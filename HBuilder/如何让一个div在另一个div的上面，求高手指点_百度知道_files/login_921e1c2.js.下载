define("question:widget/js/submitjump/submitjump.js",function(e,t,s){var n=e("common:widget/js/util/tangram/tangram.js"),i=(e("common:widget/js/util/event/event.js"),e("common:widget/js/logic/submit/submit.js")),o=e("common:widget/js/util/log/log.js"),a=e("common:widget/js/ui/dialog/dialog.js"),p="",c={100001:function(){var e=n.cookie.get("IK_NEW_PHONE"),t=[];t.push('<div class="submit-jump-tip ask-jump-tip"><h2 class="f-yahei">\u60a8\u7684\u7591\u95ee\u5df2\u7ecf\u6536\u5230\uff0c\u8bf7\u7a0d\u7b495\u5206\u949f\u5427\uff01</h2><p>\u6536\u5230\u6ee1\u610f\u7b54\u6848\u65f6\uff0c\u53ef\u522b\u5fd8\u4e86\u53ca\u65f6\u8fdb\u884c\u91c7\u7eb3\u54e6\uff01</p>'),e&&new RegExp(/[0-9]/).test(e)?(t.push('<label><input type="checkbox" id="phone-set" checked/>\u6709\u65b0\u56de\u7b54\u65f6\uff0c\u514d\u8d39\u63a5\u6536\u77ed\u4fe1\u901a\u77e5'),t.push("<span>"+e+"</span></label>"),t.push('<a href="#" class="btn-32-green">\u786e\u5b9a</a>'),n.cookie.remove("IK_NEW_PHONE",{path:"/"})):(t.push('<a href="#" class="btn-32-green">\u786e\u5b9a</a>'),t.push('<span class="remind-seconds">\u8fd8\u6709<span id="remind-seconds">5</span>\u79d2\u5c06\u81ea\u52a8\u5173\u95ed</span>')),t.push("</div>"),p=n(t.join("")).get(0),n(".btn-32-green",p).on("click",function(){try{n("#phone-set").get(0)&&n("#phone-set").get(0).checked&&(n.cookie.remove("IK_NEW_PHONESET",{path:"/"}),n.get("/api/remindset?flag=mobile&status=on&t="+(new Date).getTime(),function(){},"html"),new i({params:{cm:100044,qid:F.context("page").qid,type:1},errorDeal:function(){}}),o.send({type:2013,qb_phone_set:1,qb_phone_uname:F.context("user").name})),n("#phone-set").get(0)&&!n("#phone-set").get(0).checked&&o.send({type:2013,qb_phone_set:0,qb_phone_uname:F.context("user").name})}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/submitjump/submitjump.js",method:"",ln:56})}})},100002:function(){var e=[];e.push('<div class="submit-jump-tip supply-jump-tip"><h2 class="f-yahei">\u60a8\u7684\u95ee\u9898\u8865\u5145\u5df2\u63d0\u4ea4\u6210\u529f\uff01</h2>'),e.push('<a href="#" class="btn-32-green">\u786e\u5b9a</a>'),e.push('<span class="remind-seconds">\u8fd8\u6709<span id="remind-seconds">5</span>\u79d2\u5c06\u81ea\u52a8\u5173\u95ed</span>'),e.push("</div>"),p=n(e.join("")).get(0)}},u=function(){var e=new a({title:"\u63d0\u95ee\u6210\u529f",content:p,width:400,height:200,autoDispose:!0,autoOpen:!1,open:function(){var t=e.instance;n(".close-btn",t).css("display","none"),n(".submit-jump-tip .btn-32-green",t).on("click",function(){try{e.close()}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message,path:"question:widget/js/submitjump/submitjump.js",method:"",ln:82})}});var s=n("#remind-seconds",t);s&&setInterval(function(){s.html()-1==0&&e.close(),s.html(s.html()-1)},1e3)}});e.open()},m=function(){try{var e=n.cookie.get("IK_SUCCESS_JUMP");if(!e)return;c[e](),u(),n.cookie.remove("IK_SUCCESS_JUMP",{path:"/"})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message,path:"question:widget/js/submitjump/submitjump.js",method:"",ln:112})}};s.exports.init=function(){try{m()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/submitjump/submitjump.js",method:"",ln:116})}}});
;define("question:widget/js/accuse/accuse.js",function(e,t,a){function c(e){if(!(e&&F.context("user").gradeIndex>=3))return!1;if(-1!=e.indexOf("answer")){var t=e.replace(/[^\d]/gi,""),a=F.context("answers")[t],c=F.context("page").qid;return a?"1"==a.isCurrentUser?!1:{typeid:1,itemid:t,itemqid:c,userid:a.uid}:!1}return"1"==F.context("user").isAsker?!1:{typeid:0,itemid:F.context("page").qid,userid:F.context("page").uid}}function n(e){s(e.target).hide().each(function(t,a){var n=s(a).parents("."+e.response),d=n.prop("id"),r=c(d||"");if(r){var p='<span class="f-pipe">|</span>',l=s("<span />").prop("class","wgt-accuse f-aid").html(['<em class="accuse-enter"><i class="iknow-qb_home_icons i-arrow-accuse"></i>\u4e3e\u62a5</em>','<span class="accuse-tip" alog-group="qb-tip-accuse">',F.context("user").answerNumber>50?'<a href="javascript:;" class="low-quality-btn f-aid">\u63cf\u8ff0\u4e0d\u6e05</a>':"",'<a href="#" class="accuse-btn f-aid" log="area:panel,pos:accuse,action:click">\u8fdd\u89c4\u68c0\u4e3e</a>','<a href="http://tousu.baidu.com/zhidao/add#3" log="area:panel,pos:tousu,action:click" class="f-aid accuse-ts" target="_blank">\u4fb5\u6743\u6295\u8bc9</a>',"</span>"].join("")).appendTo(a)["wgt-ask"==e.response?"before":"after"](p);n.mouseover(function(){s(a).show()}).mouseout(function(){s(a).hide()});var g=l.find(".accuse-tip");l.mouseenter(function(){g.show()}).mouseleave(function(){g.hide()}),l.find(".accuse-btn").click(function(e){try{o.fire("accuse.action",{params:r}),e.preventDefault()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:92})}}),l.find(".accuse-ts").click(function(e){try{window.open("http://tousu.baidu.com/zhidao/add?tsurl="+encodeURIComponent(location.href)+"#3"),e.preventDefault()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:96})}}),l.find(".low-quality-btn").click(function(e){try{i.send({pid:102,type:2014,page:"question",postion:"low-quality-btn",action:"btn-click"});var t=u.confirm('<p class="confirm-text">\u786e\u8ba4\u5f53\u524d\u95ee\u9898\u63cf\u8ff0\u4e0d\u6e05\uff0c\u65e0\u6cd5\u4f5c\u7b54\uff1f</p><p class="ps-text">\u6ce8\uff1a\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u540e\uff0c<span>\u5f53\u524d\u9875\u9762\u5c06\u88ab\u5173\u95ed</span></p>',{buttons:[{text:"\u786e\u5b9a",click:function(){try{s.ajax({url:"/submit/ajax",type:"POST",dataType:"json",data:{cm:100018,qid:F.context("page").qid}}),i.send({pid:102,type:2014,page:"question",postion:"low-quality-btn",action:"btn-click-ok"}),setTimeout(function(){window.close()},200)}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:128})}}},{text:"\u53d6\u6d88",click:function(){try{i.send({pid:102,type:2014,page:"question",postion:"low-quality-btn",action:"btn-click-cancel"}),t.close()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:140})}}}],className:"question-low-quality-confirm"})}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:144})}})}})}var s=e("common:widget/js/util/tangram/tangram.js"),i=e("common:widget/js/util/log/log.js"),o=e("common:widget/js/util/event/event.js"),u=(e("common:widget/js/logic/login/login.js"),e("common:widget/js/ui/dialog/dialog.js"));o.on("accuse.action",function(e,t){o.fire("login.check",{isLogin:function(){{var e={content:"//zhidao.baidu.com/smartmis/click?"+s.url.jsonToQuery(t.params,encodeURIComponent),title:"\u6211\u6765\u68c0\u4e3e",width:400,height:370,autoDispose:!0};u.iframe(e)}}})}),a.exports.init=function(e){try{var t=s.extend({response:"accuse-response",target:".accuse-area"},e||{});n(t)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message,path:"question:widget/js/accuse/accuse.js",method:"",ln:186})}}});
;define("question:widget/user/info/basic/basic.js",function(e){{var i=e("common:widget/lib/jquery/jquery.js"),n=e("common:widget/js/util/event/event.js"),t=e("common:widget/js/logic/set-avatar/set-avatar.js");e("common:widget/js/logic/sign-in/sign-in.js")}i("#no-name-set").on("click",function(e){try{e.preventDefault(),n.fire("login.setUsername")}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/basic/basic.js",method:"",ln:18})}}),t.init({elem:"#user-avarta"})});
;define("question:widget/user/info/bind-mobile/tip.js",function(o){var t=o("common:widget/js/util/tangram/tangram.js"),e=(o("common:widget/js/util/log/log.js"),t.ajax({url:"//passport.baidu.com/v2/account/securityscore",dataType:"jsonp"}));e.done(function(o){var e=parseInt(o.result.score,10),i=t(".score"),n=Math.ceil(100-e/3);i.html(n)}).fail(function(){var o=t(".score");o.html(75)})});
;define("question:widget/user/info/daily/daily.js",function(t,i,e){function a(t){t&&d({type:0,list:t.list,date_time:t.date,term:t.term})}function l(t){n(t.content).each(function(){this.date_time=this.date,this.mt_img_src=this.imgUrl}),d({type:1,list:t.content,date_time:t.content[0].date_time})}var n=t("common:widget/js/util/tangram/tangram.js"),o=(t("common:widget/js/util/event/event.js"),t("common:widget/js/util/log/log.js")),s=t("common:widget/js/ui/carousel/carousel.js"),d=function(t){n(".wgt-daily").show();var i=[],e='<a href="#{url}" alog-action="qb-daily-img" target="_blank"><img src="#{mt_img_src}" border="0" width="250" /></a>',a='<a href="#{url}" alog-action="qb-daily-img" target="_blank" data-img="#{mt_img_src}"></a>',l='<span style="position: absolute;left: 36px;top: 11px;color: #FFF;font-size: 15px;">#{term}</span><a href="#{url}" alog-action="qb-daily-img" target="_blank" data-img="#{mt_img_src}"></a>',o=n(".wgt-daily");t.list.push({url:"http://zhidao.baidu.com/daily",mt_img_src:"https://gss0.bdstatic.com/7051cy792sgCpNKfpU_Y_D3/static/question/widget/user/info/daily/img/daily_75f4c4f.png",term:parseInt(t.term,10)-1}),n(t.list).each(function(o,s){var d=0==o?e:a;this.index=o,0!=t.type||s.url||(s.url="/daily/view?id="+s.id),s.title&&(s.title=s.title.length>16?s.title.slice(0,15)+"...":s.title),i.push(s.title?n.string(d).format(s):n.string(l).format(s))});var d=new s({viewSize:1,interval:5e3,items:i,controls:!0,slide:function(i,e){var a=this.getActiveIndex(),l=n(e.relatedTarget),s=l.find("a"),d=s.data("img"),r=e.direction,c=t.list.length-1,g="prev"==r?0==a?c:a-1:a==c?0:a+1;t.list[g].title?o.find(".wgt-daily-wall").show().find("em").text(t.list[g].title):o.find(".wgt-daily-wall").hide(),d&&s.html('<img src="'+d+'" border="0" width="250" />')}});d.render("#daily-carousel"),t.list[0].title?o.find(".wgt-daily-wall").show().find("em").text(t.list[0].title):o.find(".wgt-daily-wall").hide(),n("#daily-carousel").mouseenter(function(){d.pause(),o.find(".carousel-control").show()}).mouseleave(function(){d.cycle(),o.find(".carousel-control").hide()})};e.exports.init=function(t,i){try{var e=t||{};6==n.browser.ie?n(document).ready(function(){"1"==i?l(e):a(e)}):"1"==i?l(e):a(e),o.addKey({daily:"1"}),n(".wgt-daily").on("click","a",function(){try{o.send({type:2014,page:"question",pos:"login-daily",action:"click"})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message,path:"question:widget/user/info/daily/daily.js",method:"",ln:128})}})}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message,path:"question:widget/user/info/daily/daily.js",method:"",ln:129})}}});
;define("question:widget/user/info/privilege/privilege.js",function(i,t,e){{var a=i("common:widget/js/util/tangram/tangram.js"),s=(i("common:widget/js/util/event/event.js"),i("common:widget/js/ui/tip/tip.js")),c=[['<i class="privi-icons pritip-icon-0"></i><div class="tip-body-color"><p class="tip-c-title mt-5">\u81ea\u5b9a\u4e49\u5934\u50cf\u7279\u6743</p><div class="tip-c-info"><p>\u53ef\u4ee5\u5728\u77e5\u9053\u4e0a\u4f7f\u7528\u771f\u5b9e\u5934\u50cf\uff0c\u8ba9\u7f51\u53cb\u8ba4\u8bc6\u9760\u8c31\u7684\u4f60~</p></div></div>','<i class="privi-icons pritip-icon-1"></i><div class="tip-body-color"><p class="tip-c-title mt-10">\u56de\u7b54\u52a0\u7c97\u7279\u6743</p>\u53ef\u4ee5\u5728\u56de\u7b54\u63d0\u95ee\u65f6\u4f7f\u7528\u52a0\u7c97\u5b57\u4f53<div class="tip-c-line" style="margin-top:10px;"></div><div class="tip-c-con"><div class="tip-c-attr"><a href="/shop/view?id=901" target="_blank">\u7acb\u5373\u53bb\u5546\u57ce\u5151\u6362\u7279\u6743\u5361</a></div><div class="clear"></div><div>\u6216\u6ee1\u8db3\uff1a</div><div class="tip-c-attr"><p>5 \u7ea7\u4ee5\u4e0a#{isGade}</p><p><span class="orange">5</span> \u4e2a<a href="http://zhidao.baidu.com/s/quality/index.html" target="_blank">\u4f18\u8d28\u7b54\u6848</a>#{highQualityNum}</p></div></div></div>','<i class="privi-icons pritip-icon-2"></i><div class="tip-body-color"><p class="tip-c-title mt-10">\u56de\u7b54\u98d8\u7ea2\u7279\u6743</p>\u53ef\u4ee5\u5728\u56de\u7b54\u63d0\u95ee\u65f6\u4f7f\u7528\u98d8\u7ea2\u5b57\u4f53<div class="tip-c-line" style="margin-top:10px;"></div><div class="tip-c-con"><div class="tip-c-attr"><a href="/shop/view?id=898" target="_blank">\u7acb\u5373\u53bb\u5546\u57ce\u5151\u6362\u7279\u6743\u5361</a></div><div class="clear"></div><div>\u6216\u6ee1\u8db3\uff1a</div><div class="tip-c-attr"><p>5 \u7ea7\u4ee5\u4e0a#{isGade}</p><p><span class="orange">10</span> \u4e2a<a href="http://zhidao.baidu.com/s/quality/index.html" target="_blank">\u4f18\u8d28\u7b54\u6848</a>#{highQualityNum}</p></div></div></div>','<i class="privi-icons pritip-icon-4"></i><div class="tip-body-color"><p class="tip-c-title mt-10">\u5220\u9664\u6211\u7684\u63d0\u95ee\u6216\u56de\u7b54</p>\u53ef\u4ee5\u5220\u9664\u6211\u7684\u63d0\u95ee\u6216\u56de\u7b54<div class="tip-c-line" style="margin-top:10px;"></div><div class="tip-c-con"><div class="tip-c-attr">\u60a8\u9700\u8981\u82b1\u8d39 <span class="orange">50</span> \u8d22\u5bcc\u503c</div><div class="clear"></div><div>\u6216\u6ee1\u8db3\uff1a</div><div class="tip-c-attr"><p>5 \u7ea7\u4ee5\u4e0a#{isGade}</p><p><span class="orange">30</span> \u4e2a<a href="http://zhidao.baidu.com/s/quality/index.html" target="_blank">\u4f18\u8d28\u7b54\u6848</a>#{highQualityNum}</p><p>\u7ed1\u5b9a\u624b\u673a#{securemobil}</p></div></div></div>'],['<i class="privi-icons pritip-icon-0"></i><div class="tip-body-color"><p class="tip-c-title">\u81ea\u5b9a\u4e49\u5934\u50cf\u7279\u6743</p><div class="tip-c-info"><p>\u60a8\u53ef\u4ee5\u5728\u77e5\u9053\u4e0a\u4f7f\u7528\u771f\u5b9e\u5934\u50cf\u5566\uff0c\u5feb\u8ba9\u7f51\u53cb\u8ba4\u8bc6\u9760\u8c31\u7684\u4f60<a href="/ihome/set/profile?type=avatar" target="_blank">\u8bbe\u7f6e\u5934\u50cf</a></p></div></div>']],p=a(".privi-area ul")[0];a(p).children()}e.exports.init=function(i,t,e){try{a("#wgt-user").css("height","548px").addClass("enter-btn-top-388");var o,n=0;a(i).each(function(){n+=this}),!isNaN(n)&&n>4&&a(p).css("left",-(42*(n-4))+"px");var l,r,d,v=F.context("user").gradeIndex<5?0:1,u=[0,5,10,30,30,50,80,100,200,300];a(".privi-list a").each(function(i){a(this).mouseenter(function(p){p.stopPropagation(),clearTimeout(r),r=setTimeout(function(){var p=u[i]>t?"(\u8fd8\u5dee "+(u[i]-t)+" \u4e2a)":'<span style="color:#bebebe;">(\u5df2\u6ee1\u8db3)</span>';if(clearTimeout(d),l=1>i?v:0,c[l][i]){o&&o.hide(),o=new s({content:a.string(c[l][i]).format({highQualityNum:p,isGade:v?'<span style="color:#bebebe;">(\u5df2\u6ee1\u8db3)</span>':"(\u672a\u6ee1\u8db3)",securemobil:e?'<span style="color:#bebebe;">(\u5df2\u7ed1\u5b9a)</span>':'(<a href="/ihome/set/profile?type=contact" target="_blank">\u7acb\u5373\u7ed1\u5b9a</a>)'}),direction:"top",autoDispose:!1,effect:!1,target:a(".privi-area")[0]}),o.show();var n=o.getTipContainer();if(n.width(252).find(".tip-arrow").css({left:12+42*(i>4?i-5:i)+"px"}),n.find("a").click(function(){try{o.hide()}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message,path:"question:widget/user/info/privilege/privilege.js",method:"",ln:88})}}),6==a.browser.ie){var r=["103","123","123","123","143"];n.css({height:(r[i]||153)+"px"})}}},200)}).mouseleave(function(){function i(e){clearTimeout(d),d=setTimeout(function(){a.contains(o.getTipContainer().get(0),e.target)||e.target==t||(o&&o.hide(),a(document).unbind("mousemove",i))},70)}var t=this;clearTimeout(r),o&&a(document).mousemove(i)})})}catch(g){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:g.message,path:"question:widget/user/info/privilege/privilege.js",method:"",ln:118})}}});
;define("question:widget/user/info/progress/progress.js",function(e){function r(){var e={exp:[0,80,400,800,2e3,4e3,7e3,1e4,14e3,18e3,22e3,32e3,45e3,6e4,1e5,15e4,25e4,4e5,7e5,1e6],bst:[0,2,5,10,30,70,120,200,300,450,650,900,1300,1800,2500,3500,5e3,7e3,1e4,15e3]},r={exp:"experience",bst:"adoptNumber"},n={exp:["\u8fd8\u9700\u83b7\u5f97","\u7ecf\u9a8c\u503c"],bst:["\u8fd8\u9700\u83b7\u5f97","\u4e2a\u91c7\u7eb3\u7b54\u6848"]},s=0,a=0,d=117;o("#wgt-user").addClass("enter-btn-top-238"),o.each(["exp","bst"],function(i,c){s=e[c][t.gradeIndex]?t[r[c]]/e[c][t.gradeIndex]:1,s=Math.min(s,1),a=Math.ceil(s*d)+"px",o("#"+c+"-bar").css("width",a),o("#"+c+"-words-bar").html(t.gradeIndex>=e[c].length?void 0==t[r[c]]?0:t[r[c]]+(2==i?"%":""):void 0==t[r[c]]?0:t[r[c]]+(2==i?"%":"")+"/"+e[c][t.gradeIndex]+(2==i?"%":"")),o(".bar-"+r[c]).on("mouseover",function(){var s=e[c][t.gradeIndex]-t[r[c]],a=2==i?e[c][t.gradeIndex]:s,d=o(this).find(".bar-color");s>0?(this.title="\u5347\u7ea7"+n[c][0]+a+n[c][1],d.addClass("bar-color-hover")):(this.title="\u8be5\u5347\u7ea7\u6761\u4ef6\u5df2\u6ee1\u8db3",d.addClass("green-color-hover"))}).on("mouseout",function(){var e=o(this).find(".bar-color");e.removeClass("bar-color-hover").removeClass("green-color-hover")})})}var o=e("common:widget/js/util/tangram/tangram.js"),t=F.context("user");r()});
;define("question:widget/user/info/signin/signin.js",function(t,e,n){var i=t("common:widget/js/util/tangram/tangram.js"),a=t("common:widget/js/ui/base/base.js"),s=t("common:widget/js/ui/tip/tip.js"),o=t("common:widget/js/ui/dialog/dialog.js"),d=t("common:widget/js/logic/submit/submit.js"),r=t("common:widget/js/util/event/event.js");t("common:widget/lib/jquery.ui/jquery.ui.datepicker.js"),r.on("short.dialog",function(t,e){var n=['<div class="short-content">',"<p>",e.content,"</p>","</div>"].join(""),i=new o({content:n,autoDispose:!0,width:300,height:100,className:"short-dialog",open:function(){setTimeout(function(){i.close(),e.callback&&e.callback()},1500)}})});var c=328,l=201,g=a().extend({_initProperty:function(){try{var t=this;t._calendarBar=i(".calendar-bar"),t._remedyLeft=F.context("signIn").reSignTimeLeft,t._signinCon=i(".signin-content"),t._signinBtn=i("#signin-btn"),t._remedyDays=[]}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:65})}},_initEvent:function(){try{var t=this;r.on("calendar.expand",function(e,n){t._calendarBar.data("status",0).html('<i class="i-arrow-up-green"></i>\u6536\u8d77'),t._signinCon.slideDown(function(){i.isFunction(n&&n.callback)&&n.callback()})}),r.on("calendar.collapse",function(){t._calendarBar.data("status",1).html('<i class="i-arrow-down-green"></i>\u65e5\u5386'),t._signinCon.slideUp(),i(".signin-task-tip").size()&&t._taskTip.hide(),t._remedyTip&&t._remedyTip.hide()}),t._calendarBar.click(function(e){try{1==i(this).data("status")?(r.fire("calendar.expand"),t._todayTd=t._getTdByDate(i.date.parse([t.year,t.month,t.day].join("-"))),t._todayTd&&t._todayTd.hasClass("td-signin-done")&&!t._todayTd.hasClass("td-task-done")&&t._showTaskTip(t._todayTd)):r.fire("calendar.collapse")}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:109})}}),t._signinBtn.click(function(e){try{e.preventDefault(),0==t._signinBtn.data("disabled")&&(t._signinBtn.data("disabled",!0),r.fire("login.check",{isLogin:function(){t._signinSubmit()},noLogin:function(){t._signinBtn.data("disabled",!1),r.fire("login.log",{onLoginSuccess:function(){t._signinBtn.data("disabled",!0),t._signinSubmit()}})}}))}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:136})}})}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:138})}},_getRemedyInfo:function(t){var e=this,n=F.context("signIn").reSignItemId,a=0;i.ajax({url:"/ihome/myitem/ucenter",dataType:"jsonp",success:function(s){i.each(s.property,function(t,e){e.item_id==n&&(a=parseInt(e.number))}),t&&i.isFunction(t)&&t({itemId:n,itemNum:a,remedyLeft:e._remedyLeft})}})},_initRemedy:function(){try{var t=this;i("#signin-remedy").click(function(){try{var e=this;t._getRemedyInfo(function(t){var n=['<p>\u60a8\u5171\u6709<span class="f-orange f-bold">'+t.itemNum+"</span>\u5f20\u8865\u7b7e\u5361\uff0c",'<a href="/shop/view?id=910" target="_blank">\u53bb\u5546\u57ce\u5151\u6362></a>',"</p>",'<p>\u672c\u6708\u8fd8\u6709<span class="f-orange f-bold">'+t.remedyLeft+"</span>\u6b21\u8865\u7b7e\u673a\u4f1a~</p>","<p>\u70b9\u51fb\u5f53\u6708\u672a\u7b7e\u5230\u7684\u65e5\u5386\u5c31\u53ef\u4ee5\u8865\u7b7e\u54e6~</p>"].join(""),a=new s({content:n,target:e,position:{my:"right top",at:"right+60 bottom+10"},tooltipClass:"tip-white",direction:"top",closebox:!0,open:function(){this.getTipContainer().find(".tip-arrow").css({left:"130px"})}});a.show(),setTimeout(function(){a.hide()},5e3),i(e).unbind("mouseover")})}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:208})}})}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:209})}},init:function(){try{var t=this;t._initProperty(),t._initRemedy(),t.defaultDate=[t.month,t.day,t.year].join("/"),t.lastDay=1,1==t.month?(t.lastMonth=12,t.lastYear=t.year-1):(t.lastMonth=t.month-1,t.lastYear=t.year),t.minDate=[t.lastMonth,t.lastDay,t.lastYear].join("/"),i(t.target).datepicker({showOtherMonths:!0,selectOtherMonths:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74",prevText:"<",nextText:">",defaultDate:t.defaultDate,minDate:t.minDate,maxDate:t.defaultDate,beforeShowDay:function(e){var n=F.context("signIn"),a=i.parseJSON(n.alldate),s=i.parseJSON(n.taskdate),o=n.picData["default"],d=t._getTdByDate(e),r=taskDone=lastMonth=!1;t._remedyDays.length>0&&i(t._remedyDays).each(function(t,e){s.push(e)});var c=[e.getFullYear(),e.getMonth()+1,e.getDate()].join("/");return i(a).each(function(t,e){c==e&&(r=!0)}),i(s).each(function(t,e){c==e&&(taskDone=!0)}),e.getMonth()+1==t.lastMonth&&(lastMonth=!0),1==t._signinBtn.data("disabled")&&e.getMonth()+1==t.month&&e.getDate()==t.day&&(r=!0),taskDone?[!1,"td-task-done"]:r?(d&&t._drawCell(d,o,{taskDone:0}),[!lastMonth,"td-signin-done"]):[!lastMonth,"td-signin-none"]}}),t.instance=i(t.target).data("datepicker"),i(t.instance).on("update",function(){t._signinCon.find(".ui-datepicker-prev").attr("title","\u67e5\u770b\u4e0a\u4e00\u6708"),t._signinCon.find(".ui-datepicker-next").attr("title","\u67e5\u770b\u4e0b\u4e00\u6708"),t._showRemedyTip()}),t._signinCon.find(".ui-datepicker-prev").attr("title","\u67e5\u770b\u4e0a\u4e00\u6708"),t._signinCon.find(".ui-datepicker-next").attr("title","\u67e5\u770b\u4e0b\u4e00\u6708"),t._initEvent(),t._showRemedyTip(),t._todayTd=t._getTdByDate(i.date.parse([t.year,t.month,t.day].join("-")))}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:331})}},_showRemedyTip:function(){var t=this,e=null;t._remedyTip=null,t._signinCon.find("table td:not(.ui-state-disabled)").click(function(n){try{var a=t._signinCon.find("table td.ui-datepicker-current-day");a.data("year")==t.year&&a.data("month")+1==t.month&&parseInt(a.find("a").html())==parseInt(t.day)?a.hasClass("td-signin-done")&&!a.hasClass("td-task-done")&&t._showTaskTip(a):t._getRemedyInfo(function(n){0==n.remedyLeft?e="\u8865\u7b7e\u7684\u673a\u4f1a\u5df2\u7ecf\u7528\u5b8c\u4e86T_T...<br />\u4ee5\u540e\u4e00\u5b9a\u8981\u597d\u597d\u73cd\u60dc\u554a\uff01":n.remedyLeft>0&&0==n.itemNum?e=["<p>\u54ce\u5440\uff0c\u5fd8\u8bb0\u5b8c\u6210\u5f53\u5929\u7684\u7b7e\u5230\u4efb\u52a1\u4e86T_T...</p>","<p>\u60a8\u8fd8\u6ca1\u6709\u8865\u7b7e\u5361\uff0c\u53bb\u5546\u57ce\u5151\u6362\u8865\u7b7e\u5361\u5427\u3002</p>","<p>",'<a href="/shop/view?id=910" target="_blank" class="mt-5 btn-22-green">\u5151\u6362\u8865\u7b7e\u5361</a>',"</p>"].join(""):n.remedyLeft>0&&n.itemNum>0&&n.itemId>0&&(e=["<p>\u54ce\u5440\uff0c\u5fd8\u8bb0\u5b8c\u6210\u5f53\u5929\u7684\u7b7e\u5230\u4efb\u52a1\u4e86T_T...</p>","<p>\u8fd9\u4e2a\u6708\u8fd8\u6709<strong>"+n.remedyLeft+"\u6b21\u8865\u7b7e\u673a\u4f1a</strong>\uff0c\u662f\u5426\u4f7f\u7528\uff1f</p>","<p>",'<a class="btn-22-green remedy-ok mr-10 mt-10">\u4f7f\u7528</a>','<a class="btn-22-white remedy-cancel mt-10">\u53d6\u6d88</a>',"</p>"].join("")),t._remedyTip=new s({direction:"top",target:a,content:e,position:{my:"left top",at:"left-12 bottom"}}),t._remedyTip.getTipContainer().delegate(".remedy-ok","click",function(e){try{e.preventDefault();var s=parseInt(a.find("a").html()),r=a.data("month")+1,c=a.data("year");new d({params:{cm:100900,itemid:n.itemId,number:1,args:i.json.stringify({day:s})},beforeJump:function(){a.addClass("td-task-done ui-datepicker-unselectable ui-state-disabled").removeClass("td-signin-done").removeClass("td-signin-none").html('<span class="ui-state-default">'+s+"</span>"),t._remedyTip.hide(),i(a).unbind("click"),t._remedyDays.push([c,r,s].join("/"))},errorDeal:function(t,e,n){switch(n){case 17011:o.alert("\u9009\u62e9\u7684\u65e5\u671f\u5df2\u7ecf\u7b7e\u5230\u4e86\u3002");break;case 17012:o.alert("\u60a8\u672c\u6708\u8865\u7b7e\u7684\u673a\u4f1a\u5df2\u7ecf\u7528\u5b8c\u4e86\u3002");break;case 17010:o.alert("\u60a8\u6ca1\u6709\u8db3\u591f\u7684\u8865\u7b7e\u5361\u3002");break;default:o.alert("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}}})}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:431})}}).delegate(".remedy-cancel","click",function(e){try{e.preventDefault(),t._remedyTip.hide()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:434})}}),t._remedyTip.show(),i(a).unbind("mouseover")})}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message,path:"question:widget/user/info/signin/signin.js",method:"",ln:441})}})},_showSigninPic:function(){},_signinSubmit:function(){var t=this,e="/submit/user",n={cm:100509},a=2e3,s=setTimeout(function(){t._signinBtn.data("disabled",!1)},a),o=F.context("user").stoken||"";o&&(n.stoken=o),new d({url:e,params:n,beforeJump:function(e,n){clearTimeout(s),t._signinBtn.attr({"class":"cur-default btn-24-disabled"}).data("disabled",!0).html("\u5df2\u7b7e\u5230"),t._toCurrentMonth();var a=t._getTdByDate(i.date.parse(n.today));a&&(1==t._calendarBar.data("status")?r.fire("calendar.expand",{callback:t._signinAnimate(a)}):t._signinAnimate(a)),t._taskType=n&&n.signTaskType,t._todayTd=a},errorDeal:function(e,n){clearTimeout(s),t._signinBtn.data("disabled",!1),r.fire("short.dialog",{content:n.errorMsg,callback:function(){window.location.reload(!0)}})}})},_signinAnimate:function(t,e){var n=this,a=null,s=28,o=75,d=5,r=0,c=t&&t.outerHeight();c>=26&&32>c?a="td-animate-26":c>=32?a="td-animate-32":26>c&&(a="td-animate-22"),t.addClass(a),setTimeout(function(){d-->0?(r+=s,t.css("background-position","-"+r+"px 1px"),setTimeout(arguments.callee,o)):(t.addClass("td-signin-done").removeClass("td-signin-none").removeClass(a),n._showTaskTip(t),i.isFunction(e)&&e())},o)},_getTdByDate:function(t){var e=this,n=null;return e._toCurrentMonth(),e._signinCon.find("table td:not(.ui-state-disabled)").each(function(e,a){td=i(a),td.data("month")==t.getMonth()&&td.data("year")==t.getFullYear()&&td.find("a").html()==t.getDate()&&(n=td)}),n},_toCurrentMonth:function(){var t=this;t._signinCon.find(".ui-datepicker-prev").hasClass("ui-state-disabled")&&t._signinCon.find(".ui-datepicker-next").trigger("click")},_drawCell:function(t,e,n){var a=picUrl=null,s=t&&t.outerHeight(),o=t.offset(),d=i(".signin-calendar tbody").offset(),r=o.left-d.left,g=o.top-d.top,p=c/l,u=n.big?c/7:l/7,m=n.big?s*p:s,f=n.big?r*p:r,h=n.big?g*p:g,y=i(n.element||t);s>=26&&32>s?a="td-animate-26":s>=32?a="td-animate-32":26>s&&(a="td-animate-22"),y.addClass(a),picUrl=n.big?n.taskDone?e.taskPicBig:e.signPicBig:n.taskDone?e.taskPic:e.signPic,y.css({"background-image":"url("+picUrl+")","background-position":"-"+f+"px -"+h+"px","background-repeat":"no-repeat"}),n.big&&y.css({width:u+"px",height:m+"px"})},_showTaskTip:function(t){var e=this,n=e._taskType||F.context("signIn").tasktype,a=65==n?"\u5b9a\u5236\u81ea\u5df1\u611f\u5174\u8da3\u7684\u5173\u952e\u8bcd":"\u56de\u7b54\u4e00\u4e2a\u95ee\u9898",o=['<div class="signin-task" id="signin-task">',"<h4>\u5b8c\u6210\u7b7e\u5230\u4efb\u52a1\uff0c\u7ed9\u62fc\u56fe\u586b\u4e0a\u8272\u5f69</h4>",'<p class="task-desc">','<span class="f-bold">\u4efb\u52a1\uff1a</span>','<a href="/ihome?type=keyword" target="_blank" alog-action="qb-lg-task" id="task-name">'+a+"</a>","</p>",'<p class="task-award">','<span class="task-before"></span>','<span class="task-middle"></span>','<span class="task-after"></span>','<span class="task-award-icon"></span>',"</p>",'<p class="task-btn pt-10 h-center">','<a href="/ihome?type=keyword" target="_blank" class="btn-22-green" alog-action="qb-lg-task">\u9a6c\u4e0a\u5b8c\u6210\u4efb\u52a1</a>',"</p>","</div>"].join("");e._taskTip=new s({target:t,content:o,direction:"top",closebox:!0,position:{my:"left top",at:"left-110 bottom"},tooltipClass:"signin-task-tip",open:function(){this.getTipContainer().find(".tip-arrow").css({left:"118px"})}}),e._taskTip.show(),e._taskTip.getTipContainer().find(".task-before, .task-after").each(function(n,i){var a=F.context("signIn").picData["default"];e._drawCell(t,a,{taskDone:1==n,big:!0,element:i})}),i(t).unbind("mouseover")}});n.exports=g});
;define("question:widget/user/info/untreated-ask/untreated-ask.js",function(e){var t=e("common:widget/lib/jquery/jquery.js");t.ajax({url:"/home/api/trend",dataType:"json",success:function(e){e&&e.finishCount&&t(".wgt-untreated-ask .total-answer").html(e.finishCount)}})});