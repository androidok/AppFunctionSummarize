define("question:widget/read-opt/img-preview/preview.js",function(e,t,o){function s(e){this.options={xOffset:20,yOffset:-20,maxWidth:"100",maxHeight:"100"},i.extend(this.options,e),this.$el=i(e.$el),this.init()}{var i=e("common:widget/lib/jquery/jquery.js");e("common:widget/js/ui/dialog/dialog.js"),e("common:widget/js/logic/category/category.js"),e("common:widget/js/util/log/log.js")}s.prototype.init=function(){try{var e=this;e.$el.each(function(){i(this).hover(function(t){t.preventDefault();var o=i(this),s=e.options.imgAttr,a="",n=e.options.xOffset,p=e.options.yOffset,g=i(window).width();/^\s*data-/.test(s)?(s=i.trim(s.replace(/^\s*data-/g,function(){return""})),a=o.data(s)):a=o.attr(s);var r=new Image;r.onload=function(){var e=i('<div class="preImg-mask"><img src="'+a+'"/></div>');i("body").append(e),i(".preImg-mask").css({position:"absolute",padding:"4px",border:"1px solid #f3f3f3",backgroundColor:"#e8ecee",top:t.pageY-p+"px",zIndex:1e3}),t.pageX<g/2?i(".preImg-mask").css({left:t.pageX+n+"px",right:"auto"}).fadeIn("slow"):i(".preImg-mask").css("right",g-t.pageX+n+"px").css("left","auto").fadeIn("slow"),r.onload=null,r=null},r.src=a,o.mousemove(function(e){i(".preImg-mask").css("top",e.pageY-p+"px"),e.pageX<g/2?i(".preImg-mask").css("left",e.pageX+n+"px").css("right","auto"):i(".preImg-mask").css("right",g-e.pageX+n+"px").css("left","auto")})},function(){i(".preImg-mask").remove(),i(this).mousemove=null})})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message,path:"question:widget/read-opt/img-preview/preview.js",method:"",ln:117})}},o.exports=s});