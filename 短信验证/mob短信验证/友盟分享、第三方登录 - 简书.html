<!DOCTYPE html>
<!-- saved from url=(0037)http://www.jianshu.com/p/d455025d5882 -->
<html><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">

  <!-- Start of Baidu Transcode -->
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta name="applicable-device" content="pc,mobile">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <meta name="mobile-agent" content="format=html5;url=http://www.jianshu.com/p/d455025d5882">
  <!-- End of Baidu Transcode -->

    <meta name="description" content="产品概述 Android U-share 6.0sdk是在5.0+的基础上做了进一步的优化，降低了包的大小，对于三方的jar提供了更多选择（精简版，原生版），并提供了更多实用的接口，方便了用户的集成和升级。同时6.0的版本兼容5.0+的版本，老用户，只要替换对应的jar就可以了。特别提示：之后我们会针对6.0+的版本提供更多方便个性的功能，所以建议用户升级，并留意我们接下来的新功能。 获取友...">

  <meta name="360-site-verification" content="604a14b53c6b871206001285921e81d8">
  <meta property="wb:webmaster" content="294ec9de89e7fadb">
  <meta property="qc:admins" content="104102651453316562112116375">
  <meta property="qc:admins" content="11635613706305617">
  <meta property="qc:admins" content="1163561616621163056375">
  <meta name="google-site-verification" content="cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4">
  <meta name="google-site-verification" content="HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI">
  <meta http-equiv="mobile-agent" content="format=html5; url=http://www.jianshu.com/p/d455025d5882">

  <!-- Apple -->
  <meta name="apple-mobile-web-app-title" content="简书">

    <!--  Meta for Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=888237539, app-argument=jianshu://notes/6247673">
  <!-- End -->

  <!--  Meta for Twitter Card -->
  <meta content="summary" property="twitter:card">
  <meta content="@jianshucom" property="twitter:site">
  <meta content="友盟分享、第三方登录" property="twitter:title">
  <meta content="产品概述 Android U-share 6.0sdk是在5.0+的基础上做了进一步的优化，降低了包的大小，对于三方的jar提供了更多选择（精简版，原生版），并提供了更多实用的接口，方便了用户的集成和升级。同时6.0的版本兼容5.0+的版本，老用户，只要替换对应的jar就可以了。特别提示：之后我们会针对6.0+的版本提供更多方便个性的功能，所以建议用户升级，并留意我们接下来的新功能。 获取友盟Appkey 如果你之前已经在友盟注册了应用，并获取到了Appkey，可以继续使用它. 如果你尚未在友盟注册开发者账号，需要先注册，注册之后登录你的账号，点击添加新应用，填写完应用基本信息后，将进入..." property="twitter:description">
  <meta content="http://www.jianshu.com/p/d455025d5882" property="twitter:url">
  <!-- End -->

  <!--  Meta for OpenGraph -->
  <meta property="fb:app_id" content="865829053512461">
  <meta property="og:site_name" content="简书">
  <meta property="og:title" content="友盟分享、第三方登录">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://www.jianshu.com/p/d455025d5882">
  <meta property="og:description" content="产品概述 Android U-share 6.0sdk是在5.0+的基础上做了进一步的优化，降低了包的大小，对于三方的jar提供了更多选择（精简版，原生版），并提供了更多实用的接口，方便了用户的...">
  <!-- End -->

  <!--  Meta for Facebook Applinks -->
  <meta property="al:ios:url" content="jianshu://notes/6247673">
  <meta property="al:ios:app_store_id" content="888237539">
  <meta property="al:ios:app_name" content="简书">

  <meta property="al:android:url" content="jianshu://notes/6247673">
  <meta property="al:android:package" content="com.jianshu.haruki">
  <meta property="al:android:app_name" content="简书">
  <!-- End -->


    <title>友盟分享、第三方登录 - 简书</title>

  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="dCjRe2TOYZOwsaxtvSnJI84rp1T+C+K/pMsytuLpGBe8oIb3+Trp9nQj7mXIopmTIL+BK2aqsm1pLk4Nih05yw==">

  <link rel="stylesheet" media="all" href="./友盟分享、第三方登录 - 简书_files/web-60bef14f05f21a4581be.css">
  
  <link rel="stylesheet" media="all" href="./友盟分享、第三方登录 - 简书_files/entry-60bef14f05f21a4581be.css">

  <link href="http://cdn2.jianshu.io/assets/favicons/favicon-783beb88ed621ceab614de960376ac0c.ico" rel="icon">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/57-47624b2e2161e8eb144462c85db0a5ff.png" sizes="57x57">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/72-c00cde7cf98fc49e50cbb3ee1dcd5804.png" sizes="72x72">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/76-e8af0bdeaf1ba31e303b1fde8b5e66c4.png" sizes="76x76">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/114-f4c78569bbf1977e8382a5fd90c9237a.png" sizes="114x114">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/120-cf10c3711dba269522743729efe66bbc.png" sizes="120x120">
      <link rel="apple-touch-icon-precomposed" href="http://cdn2.jianshu.io/assets/apple-touch-icons/152-7bd60457b5f3ecbf1343f0e6241be4f8.png" sizes="152x152">
<link rel="stylesheet" href="blob:http://www.jianshu.com/a26e310b-6694-42f3-8e11-179202948956"><link rel="stylesheet" href="blob:http://www.jianshu.com/731d87e0-136c-4188-997d-72e2d08723ee"></head>

  <body lang="zh-CN" class="reader-black-font">
    <!-- 全局顶部导航栏 -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="width-limit">
    <!-- 左上方 Logo -->
    <a class="logo" href="http://www.jianshu.com/"><img src="./友盟分享、第三方登录 - 简书_files/logo-58fd04f6f0de908401aa561cda6a0688.png" alt="Logo"></a>

    <!-- 右上角 -->
      <!-- 未登录显示登录/注册/写文章 -->
      <a class="btn write-btn" target="_blank" href="http://www.jianshu.com/writer#/">
        <i class="iconfont ic-write"></i>写文章
</a>      <a class="btn sign-up" href="http://www.jianshu.com/sign_up">注册</a>
      <a class="btn log-in" href="http://www.jianshu.com/sign_in">登录</a>

    <!-- 如果用户登录，显示下拉菜单 -->

    <div class="style-mode"><a class="style-mode-btn"><i class="iconfont ic-navigation-mode"></i></a> <div class="popover-modal" style="left: 0px; display: none;"><div class="meta"><i class="iconfont ic-navigation-night"></i><span>夜间模式</span></div> <div class="switch day-night-group"><a class="switch-btn">开</a> <a class="switch-btn active">关</a></div> <hr> <div class="switch font-family-group"><a class="switch-btn font-song">宋体</a> <a class="switch-btn font-hei active">黑体</a></div> <div class="switch"><a class="switch-btn active">简</a> <a class="switch-btn">繁</a></div></div></div>
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="menu">
        <ul class="nav navbar-nav">
            <li class="">
              <a href="http://www.jianshu.com/">
                <span class="menu-text">首页</span><i class="iconfont ic-navigation-discover menu-icon"></i>
</a>            </li>
            <li class="">
              <a class="app-download-btn" href="http://www.jianshu.com/apps"><span class="menu-text">下载App</span><i class="iconfont ic-navigation-download menu-icon"></i></a>
            </li>
          <li class="search">
            <form target="_blank" action="http://www.jianshu.com/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓">
              <input type="text" name="q" id="q" value="" placeholder="搜索" class="search-input">
              <a class="search-btn" href="javascript:void(null)"><i class="iconfont ic-search"></i></a>
              <!-- <div id="navbar-trending-search"></div> -->
</form>          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

    
<div class="note">
  <div class="post">
    <div class="article">
        <h1 class="title">友盟分享、第三方登录</h1>

        <!-- 作者区域 -->
        <div class="author">
          <a class="avatar" href="http://www.jianshu.com/u/cd45498185da">
            <img src="./友盟分享、第三方登录 - 简书_files/70a213aa0cfe.jpg" alt="144">
</a>          <div class="info">
            <span class="tag">作者</span>
            <span class="name"><a href="http://www.jianshu.com/u/cd45498185da">AiPuff</a></span>
            <!-- 关注用户按钮 -->
            <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
            <!-- 文章数据信息 -->
            <div class="meta">
              <!-- 如果文章更新时间大于发布时间，那么使用 tooltip 显示更新时间 -->
                <span class="publish-time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="最后编辑于 2016.10.10 20:43">2016.10.10 20:43*</span>
              <span class="wordage">字数 4219</span>
            <span class="views-count">阅读 862</span><span class="comments-count">评论 0</span><span class="likes-count">喜欢 6</span></div>
          </div>
          <!-- 如果是当前作者，加入编辑按钮 -->
        </div>
        <!-- -->

        <!-- 文章内容 -->
        <div data-note-content="" class="show-content">
          <h1>产品概述</h1>
<p>Android U-share 6.0sdk是在5.0+的基础上做了进一步的优化，降低了包的大小，对于三方的jar提供了更多选择（精简版，原生版），并提供了更多实用的接口，方便了用户的集成和升级。同时6.0的版本兼容5.0+的版本，老用户，只要替换对应的jar就可以了。<br>特别提示：之后我们会针对6.0+的版本提供更多方便个性的功能，所以建议用户升级，并留意我们接下来的新功能。</p>
<h1>获取友盟Appkey</h1>
<p>如果你之前已经在友盟注册了应用，并获取到了Appkey，可以继续使用它.</p>
<p>如果你尚未在友盟注册开发者账号，需要先注册，注册之后登录你的账号，点击添加新应用，填写完应用基本信息后，将进入"下载SDK并添加代码"页面，此页面即可得到Appkey。</p>
<h1>下载并安装SDK</h1>
<p>下载<a href="http://dev.umeng.com/social/android/sdk-download" target="_blank">SDK最新版</a><br>如下图所示：</p>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-da2b9e4a59c33ff5.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-da2b9e4a59c33ff5.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h1>快速集成</h1>
<h2>AndroidStudio</h2>
<h3>1）新建立一个工程</h3>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-a5bfe7cc8486a0e2.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-a5bfe7cc8486a0e2.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h3>2)拷贝jar及res</h3>
<h6>a.将main文件夹以及platform（选择你想使用的平台即可）文件下，对应的资源文件和jar放入你的工程</h6>
<p>例如我想用微信，qq和微博三个平台如下图：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-b85adb83462193e0.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-b85adb83462193e0.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<p>&lt;font color=#0099ff size=5 face="黑体"&gt;注意：微博平台有.so文件，需要在工程下建立一个jniLib的文件夹，将.so放进去，如下图所示&lt;/font&gt;<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-bf1f9d1df8b5cbde.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-bf1f9d1df8b5cbde.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h6>b.如果不想像a方式一样一个个拷贝，可以使用集成工具umeng_integrate_tool.jar</h6>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-73cc518c0de252c9.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-73cc518c0de252c9.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>双击点开这个工具，如下图所示：</p>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-3ade07b29c98edba.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-3ade07b29c98edba.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>选择你想使用的平台，以及你所使用的开发工具，点击ok<br>会在当前目录下生成一个新的文件夹umeng_integratetool_result<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-c52d8502fc6aa753.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-c52d8502fc6aa753.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>只需将该文件夹下生成的对应文件对应放入你的工程中即可</p>
<h3>3)添加对应的回调Activity</h3>
<p>包名目录下创建wxapi文件夹，新建一个名为WXEntryActivity的activity继承WXCallbackActivity。这里注意一定是包名路径下，例如我的包名是com.umeng.soexample,则配置如下：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-01132606c0d270f9.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-01132606c0d270f9.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>在这里你可能会爆红也可能不爆红这是由于IDE还没有sync刚才放入的jar包。<br>同理需要建立回调的平台还有支付宝与易信，支付宝是需要建立一个apshare的文件夹，然后建立一个ShareEntryActivity的类，继承ShareCallbackActivity。易信是需要建立一个yxapi的文件夹，建立一个YXEntryActivity的类继承YXCallbackActivity。如果不使用这两个平台可以不用建立。<br>同理新浪微博也需要一个回调的Activity，与微信不同的是它只需要在包名目录下建立一个名为WBShareActivity类即可，不用建立文件夹，该类继承WBShareCallBackActivity，如下图所示（注意看目录结构）：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-585329e694af8a1d.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-585329e694af8a1d.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h3>4)修改AndroidManiFest</h3>
<h5>首先需要添加权限：</h5>
<pre class="hljs applescript"><code class="applescript">&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_PHONE_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_EXTERNAL_STORAGE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.INTERNET"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_LOGS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.CALL_PHONE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;

&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.GET_TASKS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.SET_DEBUG_APP"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.SYSTEM_ALERT_WINDOW"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.GET_ACCOUNTS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.USE_CREDENTIALS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.MANAGE_ACCOUNTS"</span> /&gt;</code></pre>
<h5>然后加入sdk中需要的Activity：</h5>
<p>新浪微博：</p>
<pre class="hljs xml"><code class="xml"> <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
<span class="hljs-attr">android:name</span>=<span class="hljs-string">".WBShareActivity"</span>
<span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation"</span>
<span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.action.ACTION_SDK_REQ_ACTIVITY"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.component.WeiboSdkBrowser"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation"</span>
        <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">"adjustResize"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span> &gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.net.DownloadService"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span></code></pre>
<p>微信：</p>
<pre class="hljs xml"><code class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".wxapi.WXEntryActivity"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>
        <span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- alipay callback--&gt;</span></code></pre>
<p>支付宝：<br>        &lt;activity
            android:name=".apshare.ShareEntryActivity"
            android:configChanges="keyboardHidden|orientation|screenSize"
            android:exported="true"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Translucent.NoTitleBar" /&gt;</p>
<p>qq：</p>
<pre class="hljs xml"><code class="xml">   <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.tencent.tauth.AuthActivity"</span>
        <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleTask"</span>
        <span class="hljs-attr">android:noHistory</span>=<span class="hljs-string">"true"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.BROWSABLE"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">"tencent100424468"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.tencent.connect.common.AssistActivity"</span>
        <span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"orientation|keyboardHidden|screenSize"</span>/&gt;</span></code></pre>
<p>分享编辑页：</p>
<pre class="hljs xl"><code class="xl"> &lt;activity
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">"com.umeng.socialize.editorpage.ShareActivity"</span>
        android:<span class="hljs-built_in">theme</span>=<span class="hljs-string">"@style/Theme.UMDefault"</span>
        android:excludeFromRecents=<span class="hljs-string">"true"</span>
        /&gt;</code></pre>
<p>其他平台的回调activity请到附录中查询。</p>
<h5>添加友盟appkey</h5>
<pre class="hljs haskell"><code class="haskell"> &lt;meta-<span class="hljs-class"><span class="hljs-keyword">data</span></span>
        android:name=<span class="hljs-string">"UMENG_APPKEY"</span>
        android:value=<span class="hljs-string">"561cae6ae0f55abd990035bf"</span> &gt;
    &lt;/meta-<span class="hljs-class"><span class="hljs-keyword">data</span>&gt;</span></code></pre>
<h3>5)修改build.gradle文件</h3>
<p>将文件夹中的签名文件放入到工程中，例如我的签名文件是debug.keystore<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-928465c3cf85025c.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-928465c3cf85025c.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>然后增加签名文件的密码：</p>
<pre class="hljs nginx"><code class="nginx"> <span class="hljs-section">signingConfigs</span> {
    <span class="hljs-section">debug</span> {
        <span class="hljs-attribute">storeFile</span> file(<span class="hljs-string">'debug.keystore'</span>)
        storePassword <span class="hljs-string">"android"</span>
        keyAlias <span class="hljs-string">"androiddebugkey"</span>
        keyPassword <span class="hljs-string">"android"</span>
    }
}</code></pre>
<p> 然后在buildTypes中将这个signingConfigs配置进去，如下图所示：<br> </p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-2b91b20634523508.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-2b91b20634523508.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br> 签名文件如果不加，部分平台的授权会受到影响。</p>
<h3>6)配置各个平台的appkey</h3>
<p>建立一个application文件，随便起一个名字，比如叫App，别忘了在AndroidManifest文件中配置（如果本身已有，不需要重新建立）:</p>
<pre class="hljs dockerfile"><code class="dockerfile"> &lt;application
    android:allowBackup=<span class="hljs-string">"true"</span>
    android:icon=<span class="hljs-string">"@mipmap/ic_launcher"</span>
    android:<span class="hljs-keyword">label</span><span class="bash">=<span class="hljs-string">"@string/app_name"</span>
</span>    android:supportsRtl=<span class="hljs-string">"true"</span>
    android:name=<span class="hljs-string">".App"</span>
    android:theme=<span class="hljs-string">"@style/AppTheme"</span>&gt;</code></pre>
<p>在application文件中配置三方平台的appkey：</p>
<pre class="hljs scala"><code class="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span></span>{
{

    <span class="hljs-type">PlatformConfig</span>.setWeixin(<span class="hljs-string">"wx967daebe835fbeac"</span>, <span class="hljs-string">"5bb696d9ccd75a38c8a0bfe0675559b3"</span>);
    <span class="hljs-type">PlatformConfig</span>.setSinaWeibo(<span class="hljs-string">"3921700954"</span>, <span class="hljs-string">"04b48b094faeb16683c32669824ebdad"</span>);
    <span class="hljs-type">PlatformConfig</span>.setQQZone(<span class="hljs-string">"100424468"</span>, <span class="hljs-string">"c7394704798a158208a74ab60104f0ba"</span>);

}
}</code></pre>
<h3>7)增加代码</h3>
<p>例如我有三个按钮，分别进行qq平台的分享，授权，和打开分享面板：</p>
<h5>点击分享按钮：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.share).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
            <span class="hljs-keyword">new</span> ShareAction(MainActivity.<span class="hljs-keyword">this</span>).setPlatform(SHARE_MEDIA.QQ)
                    .withText(<span class="hljs-string">"hello"</span>)
                    .setCallback(umShareListener)
                    .share();

        }
    });</code></pre>
<p>其中umShareListener为回调监听，构建如下：</p>
<pre class="hljs aspectj"><code class="aspectj"> <span class="hljs-keyword">private</span> UMShareListener umShareListener = <span class="hljs-keyword">new</span> UMShareListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onResult</span><span class="hljs-params">(SHARE_MEDIA platform)</span> </span>{
        Log.d(<span class="hljs-string">"plat"</span>,<span class="hljs-string">"platform"</span>+platform);
        <span class="hljs-keyword">if</span>(platform.name().equals(<span class="hljs-string">"WEIXIN_FAVORITE"</span>)){
            Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 收藏成功啦"</span>,Toast.LENGTH_SHORT).show();
        }<span class="hljs-keyword">else</span>{
            Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, platform + <span class="hljs-string">" 分享成功啦"</span>, Toast.LENGTH_SHORT).show();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(SHARE_MEDIA platform, Throwable t)</span> </span>{
        Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 分享失败啦"</span>, Toast.LENGTH_SHORT).show();
        <span class="hljs-keyword">if</span>(t!=<span class="hljs-keyword">null</span>){
            Log.d(<span class="hljs-string">"throw"</span>,<span class="hljs-string">"throw:"</span>+t.getMessage());
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(SHARE_MEDIA platform)</span> </span>{
        Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 分享取消了"</span>, Toast.LENGTH_SHORT).show();
    }
};</code></pre>
<p>   更多分享类型请参见详细集成文档或参照demo。</p>
<h5>点击授权按钮：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.auth).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
          UMShareAPI  mShareAPI = UMShareAPI.get( MainActivity.<span class="hljs-keyword">this</span> );
          mShareAPI.doOauthVerify(MainActivity.<span class="hljs-keyword">this</span>, SHARE_MEDIA.QQ, umAuthListener);

        }
    });</code></pre>
<p>其中umAuthListener为授权回调，构建如下：</p>
<pre class="hljs aspectj"><code class="aspectj"> <span class="hljs-keyword">private</span> UMAuthListener umAuthListener = <span class="hljs-keyword">new</span> UMAuthListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onComplete</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Map&lt;String, String&gt; data)</span> </span>{
        Toast.makeText(getApplicationContext(), <span class="hljs-string">"Authorize succeed"</span>, Toast.LENGTH_SHORT).show();

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Throwable t)</span> </span>{
        Toast.makeText( getApplicationContext(), <span class="hljs-string">"Authorize fail"</span>, Toast.LENGTH_SHORT).show();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action)</span> </span>{
        Toast.makeText( getApplicationContext(), <span class="hljs-string">"Authorize cancel"</span>, Toast.LENGTH_SHORT).show();
    }
};</code></pre>
<h5>点击打开面板：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.shareboard).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
           <span class="hljs-keyword">new</span> ShareAction(MainActivity.<span class="hljs-keyword">this</span>).withText(<span class="hljs-string">"hello"</span>)
                   .setDisplayList(SHARE_MEDIA.SINA,SHARE_MEDIA.QQ,SHARE_MEDIA.WEIXIN)
                    .setCallback(umShareListener).open();
        }
    });</code></pre>
<p>打开面板的使用方式与分享类似，只是一个设置单一的使用平台，一个设置一个平台list，一个最后调用的是share方法，一个调用open的方法。关于分享面板还有许多拓展功能，可以参照详细集成文档。<br>最后在Activity的onActivityResult中加入我们的回调</p>
<pre class="hljs kotlin"><code class="kotlin"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> void onActivityResult(int requestCode, int resultCode, Intent <span class="hljs-keyword">data</span>) {
    <span class="hljs-keyword">super</span>.onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
    UMShareAPI.<span class="hljs-keyword">get</span>(<span class="hljs-keyword">this</span>).onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
}</code></pre>
<h2>eclipse</h2>
<h3>1）新建立一个工程</h3>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-080ae8f4aa5938c7.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-080ae8f4aa5938c7.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h3>2)拷贝jar及res</h3>
<h6>a.将main文件夹以及platform（选择你想使用的平台即可）文件下，对应的资源文件和jar放入你的工程</h6>
<p>例如我想用微信，qq和微博三个平台如下图：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-15b416873e003a80.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-15b416873e003a80.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h6>b.如果不想像a方式一样一个个拷贝，可以使用集成工具umeng_integrate_tool.jar</h6>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-73cc518c0de252c9.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-73cc518c0de252c9.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>双击点开这个工具，如下图所示：</p>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-3ade07b29c98edba.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-3ade07b29c98edba.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>选择你想使用的平台，以及你所使用的开发工具，点击ok<br>会在当前目录下生成一个新的文件夹umeng_integratetool_result<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-c52d8502fc6aa753.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-c52d8502fc6aa753.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>只需将该文件夹下生成的对应文件对应放入你的工程中即可    </p>
<h3>3)添加对应的回调Activity</h3>
<p>包名目录下创建wxapi文件夹，新建一个名为WXEntryActivity的activity继承WXCallbackActivity。这里注意一定是包名路径下，例如我的包名是com.umeng.soexample,则配置如下：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-c5da893ff1fa6b51.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-c5da893ff1fa6b51.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>在这里你可能有红线报警也可能没有，这是由于IDE还没有sync刚才放入的jar包。<br>同理需要建立回调的平台还有支付宝与易信，支付宝是需要建立一个apshare的文件夹，然后建立一个ShareEntryActivity的类，继承ShareCallbackActivity。易信是需要建立一个yxapi的文件夹，建立一个YXEntryActivity的类继承YXCallbackActivity。如果不使用这两个平台可以不用建立。<br>同理新浪微博也需要一个回调的Activity，与微信不同的是它只需要在包名目录下建立一个名为WBShareActivity类即可，不用建立文件夹，该类继承WBShareCallBackActivity，如下图所示（注意看目录结构）：<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-555ea1b18d24d102.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-555ea1b18d24d102.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h3>4)修改AndroidManiFest</h3>
<h5>首先需要添加权限：</h5>
<pre class="hljs applescript"><code class="applescript">&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_PHONE_STATE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_EXTERNAL_STORAGE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.INTERNET"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.READ_LOGS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.CALL_PHONE"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;

&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.GET_TASKS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.SET_DEBUG_APP"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.SYSTEM_ALERT_WINDOW"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.GET_ACCOUNTS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.USE_CREDENTIALS"</span> /&gt;
&lt;uses-permission android:<span class="hljs-built_in">name</span>=<span class="hljs-string">"android.permission.MANAGE_ACCOUNTS"</span> /&gt;</code></pre>
<h5>然后加入sdk中需要的Activity：</h5>
<p>新浪微博：</p>
<pre class="hljs xml"><code class="xml"> <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
<span class="hljs-attr">android:name</span>=<span class="hljs-string">".WBShareActivity"</span>
<span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation"</span>
<span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.action.ACTION_SDK_REQ_ACTIVITY"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.component.WeiboSdkBrowser"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation"</span>
        <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">"adjustResize"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span> &gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.sina.weibo.sdk.net.DownloadService"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span></code></pre>
<p>微信：</p>
<pre class="hljs xml"><code class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".wxapi.WXEntryActivity"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>
        <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>
        <span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- alipay callback--&gt;</span></code></pre>
<p>支付宝<br>        &lt;activity
            android:name=".apshare.ShareEntryActivity"
            android:configChanges="keyboardHidden|orientation|screenSize"
            android:exported="true"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Translucent.NoTitleBar" /&gt;</p>
<p>qq：</p>
<pre class="hljs xml"><code class="xml">   <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.tencent.tauth.AuthActivity"</span>
        <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleTask"</span>
        <span class="hljs-attr">android:noHistory</span>=<span class="hljs-string">"true"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.BROWSABLE"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">"tencent100424468"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.tencent.connect.common.AssistActivity"</span>
        <span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">"portrait"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span>
        <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">"orientation|keyboardHidden|screenSize"</span>/&gt;</span></code></pre>
<p>分享编辑页：</p>
<pre class="hljs xl"><code class="xl"> &lt;activity
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">"com.umeng.socialize.editorpage.ShareActivity"</span>
        android:<span class="hljs-built_in">theme</span>=<span class="hljs-string">"@style/Theme.UMDefault"</span>
        android:excludeFromRecents=<span class="hljs-string">"true"</span>
        /&gt;</code></pre>
<p>其他平台的回调activity请到附录中查询。</p>
<h5>添加友盟appkey</h5>
<pre class="hljs haskell"><code class="haskell"> &lt;meta-<span class="hljs-class"><span class="hljs-keyword">data</span></span>
        android:name=<span class="hljs-string">"UMENG_APPKEY"</span>
        android:value=<span class="hljs-string">"561cae6ae0f55abd990035bf"</span> &gt;
    &lt;/meta-<span class="hljs-class"><span class="hljs-keyword">data</span>&gt;</span></code></pre>
<h3>5)引入签名文件</h3>
<p>在eclipse的工程设置中设置签名，将Custom debug keystore设置成你应用的签名文件（有些工程已经默认设置好了，可以跳过）例如我的签名文件是debug.keystore<br></p><div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-0fe49877b56d0a30.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-0fe49877b56d0a30.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div>
<h3>6)配置各个平台的appkey</h3>
<p>建立一个application文件，随便起一个名字，比如叫App，别忘了在AndroidManifest文件中配置（如果本身已有，不需要重新建立）:</p>
<pre class="hljs dockerfile"><code class="dockerfile"> &lt;application
    android:allowBackup=<span class="hljs-string">"true"</span>
    android:icon=<span class="hljs-string">"@mipmap/ic_launcher"</span>
    android:<span class="hljs-keyword">label</span><span class="bash">=<span class="hljs-string">"@string/app_name"</span>
</span>    android:supportsRtl=<span class="hljs-string">"true"</span>
    android:name=<span class="hljs-string">".App"</span>
    android:theme=<span class="hljs-string">"@style/AppTheme"</span>&gt;</code></pre>
<p>在application文件中配置三方平台的appkey：</p>
<pre class="hljs scala"><code class="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span></span>{
{

    <span class="hljs-type">PlatformConfig</span>.setWeixin(<span class="hljs-string">"wx967daebe835fbeac"</span>, <span class="hljs-string">"5bb696d9ccd75a38c8a0bfe0675559b3"</span>);
    <span class="hljs-type">PlatformConfig</span>.setSinaWeibo(<span class="hljs-string">"3921700954"</span>, <span class="hljs-string">"04b48b094faeb16683c32669824ebdad"</span>);
    <span class="hljs-type">PlatformConfig</span>.setQQZone(<span class="hljs-string">"100424468"</span>, <span class="hljs-string">"c7394704798a158208a74ab60104f0ba"</span>);

}
}</code></pre>
<h3>7)增加代码</h3>
<p>例如我有三个按钮，分别进行qq平台的分享，授权，和打开分享面板：</p>
<h5>点击分享按钮：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.share).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
            <span class="hljs-keyword">new</span> ShareAction(MainActivity.<span class="hljs-keyword">this</span>).setPlatform(SHARE_MEDIA.QQ)
                    .withText(<span class="hljs-string">"hello"</span>)
                    .setCallback(umShareListener)
                    .share();

        }
    });</code></pre>
<p>其中umShareListener为回调监听，构建如下：</p>
<pre class="hljs aspectj"><code class="aspectj"> <span class="hljs-keyword">private</span> UMShareListener umShareListener = <span class="hljs-keyword">new</span> UMShareListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onResult</span><span class="hljs-params">(SHARE_MEDIA platform)</span> </span>{
        Log.d(<span class="hljs-string">"plat"</span>,<span class="hljs-string">"platform"</span>+platform);
        <span class="hljs-keyword">if</span>(platform.name().equals(<span class="hljs-string">"WEIXIN_FAVORITE"</span>)){
            Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 收藏成功啦"</span>,Toast.LENGTH_SHORT).show();
        }<span class="hljs-keyword">else</span>{
            Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, platform + <span class="hljs-string">" 分享成功啦"</span>, Toast.LENGTH_SHORT).show();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(SHARE_MEDIA platform, Throwable t)</span> </span>{
        Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 分享失败啦"</span>, Toast.LENGTH_SHORT).show();
        <span class="hljs-keyword">if</span>(t!=<span class="hljs-keyword">null</span>){
            Log.d(<span class="hljs-string">"throw"</span>,<span class="hljs-string">"throw:"</span>+t.getMessage());
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(SHARE_MEDIA platform)</span> </span>{
        Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>,platform + <span class="hljs-string">" 分享取消了"</span>, Toast.LENGTH_SHORT).show();
    }
};</code></pre>
<p>   更多分享类型请参见详细集成文档或参照demo。</p>
<h5>点击授权按钮：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.auth).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
          UMShareAPI  mShareAPI = UMShareAPI.get( MainActivity.<span class="hljs-keyword">this</span> );
          mShareAPI.doOauthVerify(MainActivity.<span class="hljs-keyword">this</span>, SHARE_MEDIA.QQ, umAuthListener);

        }
    });</code></pre>
<p>其中umAuthListener为授权回调，构建如下：</p>
<pre class="hljs aspectj"><code class="aspectj"> <span class="hljs-keyword">private</span> UMAuthListener umAuthListener = <span class="hljs-keyword">new</span> UMAuthListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onComplete</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Map&lt;String, String&gt; data)</span> </span>{
        Toast.makeText(getApplicationContext(), <span class="hljs-string">"Authorize succeed"</span>, Toast.LENGTH_SHORT).show();

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Throwable t)</span> </span>{
        Toast.makeText( getApplicationContext(), <span class="hljs-string">"Authorize fail"</span>, Toast.LENGTH_SHORT).show();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action)</span> </span>{
        Toast.makeText( getApplicationContext(), <span class="hljs-string">"Authorize cancel"</span>, Toast.LENGTH_SHORT).show();
    }
};</code></pre>
<h5>点击打开面板：</h5>
<pre class="hljs aspectj"><code class="aspectj"> findViewById(R.id.shareboard).setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>{
           <span class="hljs-keyword">new</span> ShareAction(MainActivity.<span class="hljs-keyword">this</span>).withText(<span class="hljs-string">"hello"</span>)
                   .setDisplayList(SHARE_MEDIA.SINA,SHARE_MEDIA.QQ,SHARE_MEDIA.WEIXIN)
                    .setCallback(umShareListener).open();
        }
    });</code></pre>
<p>打开面板的使用方式与分享类似，只是一个设置单一的使用平台，一个设置一个平台list，一个最后调用的是share方法，一个调用open的方法。关于分享面板还有许多拓展功能，可以参照详细集成文档。<br>最后在Activity的onActivityResult中加入我们的回调</p>
<pre class="hljs kotlin"><code class="kotlin"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> void onActivityResult(int requestCode, int resultCode, Intent <span class="hljs-keyword">data</span>) {
    <span class="hljs-keyword">super</span>.onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
    UMShareAPI.<span class="hljs-keyword">get</span>(<span class="hljs-keyword">this</span>).onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
}</code></pre>
<h1>详细集成文档</h1>
<h2>单平台分享进阶</h2>
<h3>新浪微博</h3>
<p>对于新浪微博我们提供两种jar，满足不同的开发者要求</p>
<h5>原生sdk</h5>
<p>使用platform/sina下的jar和res即可<br>就如前面快速集成文档中的方式集成，一定要保证签名和包名的正确，同时回调地址一定要正确<br>在新浪应用的后台，看下你们设置的回调地址：</p>
<div class="image-package">
<img src="./友盟分享、第三方登录 - 简书_files/2837762-94bfd6dd9d63d5c5.png" data-original-src="http://upload-images.jianshu.io/upload_images/2837762-94bfd6dd9d63d5c5.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="cursor: zoom-in;"><br><div class="image-caption"></div>
</div><p><br>如果是如图所示的地址，则不需要什么，如是你们自己写的地址，请在调用分享前，设置</p>
<pre class="hljs stylus"><code class="stylus"> Config<span class="hljs-selector-class">.REDIRECT_URL</span> = <span class="hljs-string">"yourpath"</span></code></pre>
<p>为你的回调地址<br>原生sdk更加安全稳定适配性也更强，但是jar和so过大</p>
<h5>umeng sina sdk</h5>
<p>使用platform/umengsina下的jar和res即可<br>用这种方式集成，不需要添加WBShareActivity，也不需要前面所述的关于新浪的AndroidManifest配置<br>使用这种方式，jar包只有不到20k，需要在友盟后台配置你的appkey和appsecret，这样的配置更加安全。</p>
<h3>微信</h3>
<h5>原生sdk</h5>
<p>使用platform/weixin下的jar和res即可<br>就如前面快速集成文档中的方式集成，一定要保证签名和包名的正确。不然授权不能成功<br>如果使用微信支付的应用开发者可以使用这个包，将你们工程中原有的支付去掉即可（不然会出现jar重复的问题，我们SocialSDK_WeiXin_1就是原生微信jar）</p>
<h5>umeng 微信 sdk</h5>
<p>使用platform/umengwx下的jar和res即可<br>集成方式与前者一样，不同的是jar中去掉了支付的相关功能，包更小。对于个人开发者而言，如果需要上传百度市场等，会检测支付相关sdk，所以推荐用这个包。</p>
<h3>支付宝</h3>
<p>如前面快速集成文档所示需要像微信一样添加一个回调的Activity，在包名目录下建立一个文件夹apshare，在这个文件夹中新建一个类</p>
<pre class="hljs scala"><code class="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShareEntryActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ShareCallbackActivity</span></span>{
}</code></pre>
<p>同时在AndroidManifest中添加对应的配置</p>
<pre class="hljs xl"><code class="xl"> &lt;activity
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">".apshare.ShareEntryActivity"</span>
        android:configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>
        android:exported=<span class="hljs-string">"true"</span>
        android:screenOrientation=<span class="hljs-string">"portrait"</span>
        android:<span class="hljs-built_in">theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;</code></pre>
<h3>易信</h3>
<p>如前面快速集成文档所示需要像微信一样添加一个回调的Activity，在包名目录下建立一个文件夹yxapi，在这个文件夹中新建一个类</p>
<pre class="hljs scala"><code class="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YXEntryActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">YXCallbackActivity</span> </span>{</code></pre>
<p>}</p>
<p>同时在AndroidManifest中添加对应的配置</p>
<pre class="hljs xl"><code class="xl">  &lt;activity
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">".yxapi.YXEntryActivity"</span>
        android:configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>
        android:exported=<span class="hljs-string">"true"</span>
        android:screenOrientation=<span class="hljs-string">"portrait"</span>
        android:<span class="hljs-built_in">theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;</code></pre>
<h3>facebook</h3>
<p>facebook需要像前面快速集成文档中写的一样，配置appkey，同时在AndroidManifest中配置：</p>
<pre class="hljs xl"><code class="xl">  &lt;activity
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">"com.facebook.FacebookActivity"</span>
        android:configChanges=<span class="hljs-string">"keyboard|keyboardHidden|screenLayout|screenSize|orientation"</span>
        android:label=<span class="hljs-string">"@string/app_name"</span>
        android:<span class="hljs-built_in">theme</span>=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;
    &lt;provider
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">"com.facebook.FacebookContentProvider"</span>
        android:authorities=<span class="hljs-string">"com.facebook.app.FacebookContentProvider487692214752558"</span>
        android:exported=<span class="hljs-string">"true"</span> /&gt;

    &lt;meta-<span class="hljs-keyword">data</span>
        android:<span class="hljs-keyword">name</span>=<span class="hljs-string">"com.facebook.sdk.ApplicationId"</span>
        android:value=<span class="hljs-string">"@string/facebook_app_id"</span> /&gt;</code></pre>
<p>其中487692214752558是facebook的appid</p>
<h3>twitter</h3>
<p>twitter需要像前面快速集成文档中写的一样，配置appkey，同时在AndroidManifest中配置：</p>
<pre class="hljs dockerfile"><code class="dockerfile">          &lt;activity
        android:name=<span class="hljs-string">"com.umeng.socialize.handler.TwitterWebActivity"</span>
        android:configChanges=
            <span class="hljs-string">"keyboard|keyboardHidden|screenLayout|screenSize|orientation"</span>
        android:theme=<span class="hljs-string">"@android:style/Theme.Translucent.NoTitleBar"</span>
        android:<span class="hljs-keyword">label</span><span class="bash">=<span class="hljs-string">"@string/app_name"</span> /&gt;</span></code></pre>
<h3>豆瓣人人腾讯微博</h3>
<p>这个三个平台不需要在程序中设置appkey，jar包放进去就可以使用，但是需要将appkey设置在友盟的后台。</p>
<h2>分享内容进阶</h2>
<p>对于分享内容可以有如下设置</p>
<h3>设置分享图片</h3>
<p>在使用shareaction的时候，调用withMedia可以设置一个UMImage，也就是分享图片，分享图片的构建有如下几种形式</p>
<pre class="hljs arduino"><code class="arduino">  UMImage <span class="hljs-built_in">image</span> = <span class="hljs-keyword">new</span> UMImage(ShareActivity.<span class="hljs-keyword">this</span>, <span class="hljs-string">"imageurl"</span>);<span class="hljs-comment">//网络图片</span>
  UMImage <span class="hljs-built_in">image</span> = <span class="hljs-keyword">new</span> UMImage(ShareActivity.<span class="hljs-keyword">this</span>, file);<span class="hljs-comment">//本地文件</span>
  UMImage <span class="hljs-built_in">image</span> = <span class="hljs-keyword">new</span> UMImage(ShareActivity.<span class="hljs-keyword">this</span>, R.drawable.xxx);<span class="hljs-comment">//资源文件</span>
  UMImage <span class="hljs-built_in">image</span> = <span class="hljs-keyword">new</span> UMImage(ShareActivity.<span class="hljs-keyword">this</span>, bitmap);<span class="hljs-comment">//bitmap文件</span>
  UMImage <span class="hljs-built_in">image</span> = <span class="hljs-keyword">new</span> UMImage(ShareActivity.<span class="hljs-keyword">this</span>, <span class="hljs-keyword">byte</span>[]);<span class="hljs-comment">//字节流</span></code></pre>
<p>推荐使用网络图片和资源文件的方式，平台兼容性更高。<br>创建好UMImage之后调用分享即可，如下所示：</p>
<pre class="hljs less"><code class="less"><span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withMedia</span>(image)<span class="hljs-selector-class">.share</span>();</code></pre>
<h3>设置分享链接</h3>
<p>分享链接可以使用withTargetUrl（"<a href="http://xxxx%22%29/" target="_blank">http://xxxx"）</a><br>注意一定是<a href="http://xn--https-wm6j//%E5%BC%80%E5%A4%B4%E7%9A%84%E7%BD%91%E5%9D%80" target="_blank">http://或https://开头的网址</a></p>
<pre class="hljs less"><code class="less"><span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withMedia</span>(image)
<span class="hljs-selector-class">.withTargetUrl</span>(xxx)
<span class="hljs-selector-class">.share</span>();</code></pre>
<p>对于有些平台设置链接和图片同时分享的时候，图片会成为这个linkcard的缩略图，所以这种情况图片不要设置过大，一般缩略图最好在24k左右，可以调用我们后面提供的压缩接口进行压缩。</p>
<h3>设置标题</h3>
<p>标题一般是用于网络链接分享的标题，可以使用withTitle进行设置</p>
<pre class="hljs less"><code class="less"><span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withMedia</span>(image)
<span class="hljs-selector-class">.withTargetUrl</span>(xxx)
<span class="hljs-selector-class">.withTitle</span>(xxxx)
<span class="hljs-selector-class">.share</span>();</code></pre>
<h3>设置分享音乐</h3>
<p>音乐只能使用网络音乐：</p>
<pre class="hljs haxe"><code class="haxe"> UMusic music = <span class="hljs-keyword">new</span> <span class="hljs-type">UMusic</span>(musicurl);
 music.setTitle(<span class="hljs-string">"This is music title"</span>);<span class="hljs-comment">//音乐的标题</span>
    music.setThumb(<span class="hljs-string">"http://www.umeng.com/images/pic/social/chart_1.png"</span>);<span class="hljs-comment">//音乐的缩略图</span>
    music.setDescription(<span class="hljs-string">"my description"</span>);<span class="hljs-comment">//音乐的描述</span></code></pre>
<p>  建立好之后可以进行分享：</p>
<pre class="hljs less"><code class="less">  <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withMedia</span>(music)<span class="hljs-selector-class">.share</span>();</code></pre>
<h3>设置分享视频</h3>
<p>音乐只能使用网络视频：</p>
<pre class="hljs haxe"><code class="haxe">   UMVideo video = <span class="hljs-keyword">new</span> <span class="hljs-type">UMVideo</span>(videourl);
 video.setTitle(<span class="hljs-string">"This is music title"</span>);<span class="hljs-comment">//视频的标题</span>
    video.setThumb(<span class="hljs-string">"http://www.umeng.com/images/pic/social/chart_1.png"</span>);<span class="hljs-comment">//视频的缩略图</span>
    video.setDescription(<span class="hljs-string">"my description"</span>);<span class="hljs-comment">//视频的描述</span></code></pre>
<p>  建立好之后可以进行分享：</p>
<pre class="hljs less"><code class="less">  <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withMedia</span>(video)<span class="hljs-selector-class">.share</span>();</code></pre>
<h3>设置分享文件</h3>
<p>分享文件是有微信收藏和邮件中可以使用，别的平台无效，使用的文件不要超过10M</p>
<pre class="hljs less"><code class="less">     <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(ShareActivity.this)<span class="hljs-selector-class">.withText</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-selector-class">.withFile</span>(file)<span class="hljs-selector-class">.share</span>();</code></pre>
<h3>各平台可分享内容预览</h3>
<table>
<thead>
<tr>
<th>平台</th>
<th style="text-align:center">授权</th>
<th style="text-align:right">可分享内容</th>
<th>用户信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>qq</td>
<td style="text-align:center">是</td>
<td style="text-align:right">文本 图片 链接 视频 音乐</td>
<td>是</td>
</tr>
<tr>
<td>qq空间</td>
<td style="text-align:center">同qq</td>
<td style="text-align:right">文字（说说） 图片（说说） 链接 视频 音乐</td>
<td>同qq</td>
</tr>
<tr>
<td>微信</td>
<td style="text-align:center">是</td>
<td style="text-align:right">文本 图片 链接 视频 音乐</td>
<td>是</td>
</tr>
<tr>
<td>微信朋友圈</td>
<td style="text-align:center">同微信</td>
<td style="text-align:right">文本 图片 链接 视频 音乐</td>
<td>同微信</td>
</tr>
<tr>
<td>微信收藏</td>
<td style="text-align:center">同微信</td>
<td style="text-align:right">文本 图片 链接 视频 音乐 文件</td>
<td>同微信</td>
</tr>
<tr>
<td>腾讯微博</td>
<td style="text-align:center">是（网页）</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>新浪微博</td>
<td style="text-align:center">是</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>是</td>
</tr>
<tr>
<td>支付宝</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本  图片</td>
<td>否</td>
</tr>
<tr>
<td>易信聊天</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>易信朋友圈</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>人人</td>
<td style="text-align:center">是 （网页）</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>豆瓣</td>
<td style="text-align:center">是  （网页）</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>点点虫聊天</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐（点点虫分享已经在最新版的软件中不能使用，点点虫改为了直播软件）</td>
<td>否</td>
</tr>
<tr>
<td>点点虫动态</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>Linkedin</td>
<td style="text-align:center">是</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>否</td>
</tr>
<tr>
<td>短信</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图文 图片 链接</td>
<td>否</td>
</tr>
<tr>
<td>邮件</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图文 图片 链接 文件</td>
<td>否</td>
</tr>
<tr>
<td>facebook</td>
<td style="text-align:center">是</td>
<td style="text-align:right">文本 图文 图片 链接 视频 音乐</td>
<td>是</td>
</tr>
<tr>
<td>twitter</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文本 图文 图片</td>
<td>否</td>
</tr>
<tr>
<td>Instagram</td>
<td style="text-align:center">否</td>
<td style="text-align:right">图片</td>
<td>否</td>
</tr>
<tr>
<td>Pinterest</td>
<td style="text-align:center">否</td>
<td style="text-align:right">图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>Thumblr</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>line</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>whatsapp</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>flickr</td>
<td style="text-align:center">否</td>
<td style="text-align:right">图片</td>
<td>否</td>
</tr>
<tr>
<td>kakao</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>googleplus</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>印象笔记</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>有道笔记</td>
<td style="text-align:center">否</td>
<td style="text-align:right">文字 图片 图文</td>
<td>否</td>
</tr>
<tr>
<td>pocket</td>
<td style="text-align:center">否</td>
<td style="text-align:right">链接</td>
<td>否</td>
</tr>
<tr>
<td>foursquare</td>
<td style="text-align:center">否</td>
<td style="text-align:right">图片</td>
<td>否</td>
</tr>
</tbody>
</table>
<h2>分享面板进阶</h2>
<h3>普通分享面板</h3>
<p>如快速集成文档所示</p>
<h3>自定义分享按钮的分享面板</h3>
<p>如果需要对分享面板增加自定义的按钮，可以通过 </p>
<pre class="hljs css"><code class="css">  <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ShareAction</span>(<span class="hljs-selector-tag">ShareMenuActivity</span><span class="hljs-selector-class">.this</span>)<span class="hljs-selector-class">.setDisplayList</span>(<span class="hljs-selector-tag">SHARE_MEDIA</span><span class="hljs-selector-class">.SINA</span>,<span class="hljs-selector-tag">SHARE_MEDIA</span><span class="hljs-selector-class">.QQ</span>,<span class="hljs-selector-tag">SHARE_MEDIA</span><span class="hljs-selector-class">.QZONE</span>,<span class="hljs-selector-tag">SHARE_MEDIA</span><span class="hljs-selector-class">.WEIXIN</span>,<span class="hljs-selector-tag">SHARE_MEDIA</span><span class="hljs-selector-class">.WEIXIN_CIRCLE</span>)
                    <span class="hljs-selector-class">.addButton</span>("<span class="hljs-selector-tag">umeng_sharebutton_custom</span>","<span class="hljs-selector-tag">umeng_sharebutton_custom</span>","<span class="hljs-selector-tag">info_icon_1</span>","<span class="hljs-selector-tag">info_icon_1</span>")
                    <span class="hljs-selector-class">.setShareboardclickCallback</span>(<span class="hljs-selector-tag">shareBoardlistener</span>)<span class="hljs-selector-class">.open</span>();</code></pre>
<p>进行设置其中第一个参数是显示的名字，第二个参数是平台名称，第三个参数是按钮图标的图片名字，第四个按钮是置灰情况下按钮图标的图片名字。<br>注意第一个参数和第二个参数是指字符串写在string文件中的名字，如</p>
<pre class="hljs applescript"><code class="applescript"> &lt;<span class="hljs-built_in">string</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">"umeng_sharebutton_custom"</span>&gt;自定义分享按钮&lt;/<span class="hljs-built_in">string</span>&gt;</code></pre>
<p> 第三个参数与第四个参数为图片的名字<br>对于自定义平台的监听需要使用上面提到的分享面板点击回调，如下：</p>
<pre class="hljs aspectj"><code class="aspectj">  <span class="hljs-keyword">private</span> ShareBoardlistener shareBoardlistener = <span class="hljs-keyword">new</span>  ShareBoardlistener() {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onclick</span><span class="hljs-params">(SnsPlatform snsPlatform,SHARE_MEDIA share_media)</span> </span>{
        <span class="hljs-keyword">if</span> (share_media==<span class="hljs-keyword">null</span>){
            <span class="hljs-keyword">if</span> (snsPlatform.mKeyword.equals(<span class="hljs-string">"umeng_sharebutton_custom"</span>)){
                Toast.makeText(ShareActivity.<span class="hljs-keyword">this</span>,<span class="hljs-string">"add button success"</span>,Toast.LENGTH_LONG).show();
            }

        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">new</span> ShareAction(ShareActivity.<span class="hljs-keyword">this</span>).setPlatform(share_media).setCallback(umShareListener)
                    .withText(<span class="hljs-string">"多平台分享"</span>)
                    .share();
        }
    }
};</code></pre>
<p> 新增按钮的回调监听是通过判断当获取平台为空时，keyword的值来进行确定的，并在对应的条件中进行处理即可。</p>
<h2>获取用户信息</h2>
<h3>实现</h3>
<p>已授权的平台，可以获取用户信息（新浪微博可以获取用户好友列表），</p>
<p>实现的方法与授权和解除授权类似：</p>
<p><code>mShareAPI = UMShareAPI.get(this);</code></p>
<p>初始化UMShareAPI，然后进行用户信息获取：</p>
<p><code>mShareAPI.getPlatformInfo(UserinfoActivity.this, SHARE_MEDIA.SINA, umAuthListener);</code></p>
<h3>用户资料基本信息解析如下</h3>
<p>在返回的map中各个信息对应的key值如下<br><code>新浪微博：
用户id：id
用户名：screen_name
位置：location
头像：profile_image_url
性别：gender
关注数：followers_count
好友数：friends_count
qq：
name：screenname
性别：gender
头像：profile_image_url
是否黄钻：is_yellow_year_vip
黄钻等级：yellow_vip_level
城市：city
省份：province
微信：
openid:openid
name：screenname
城市：city
省份：prvinice
国家：country
性别：gender
头像：profile_image_url</code></p>
<h2>特殊功能进阶</h2>
<h3>android6.0适配</h3>
<p>因为分享授权中需要使用一些对应的权限，如果你的targetSdkVersion设置的是23或更高，需要提前获取权限。（如果targetSdkVersion是22或以下，可以忽略该问题）<br>使用AppCompatActivity.checkSelfPermission(Manifest.permission.xxxx)可以判断权限的授权情况。<br>使用</p>
<pre class="hljs arduino"><code class="arduino">            <span class="hljs-built_in">if</span>(Build.VERSION.SDK_INT&gt;=<span class="hljs-number">23</span>){
                <span class="hljs-keyword">String</span>[] mPermissionList = <span class="hljs-keyword">new</span> <span class="hljs-keyword">String</span>[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.CALL_PHONE,Manifest.permission.READ_LOGS,Manifest.permission.READ_PHONE_STATE, Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.SET_DEBUG_APP,Manifest.permission.SYSTEM_ALERT_WINDOW,Manifest.permission.GET_ACCOUNTS,Manifest.permission.WRITE_APN_SETTINGS};
                ActivityCompat.requestPermissions(<span class="hljs-keyword">this</span>,mPermissionList,<span class="hljs-number">123</span>);
            }</code></pre>
<p>可以请求权限。</p>
<h3>获取客户端安装信息</h3>
<p>使用如下接口</p>
<p><code>mShareAPI.isInstall(this, SHARE_MEDIA.WEIXIN)</code></p>
<h3>获取客户端api是否支持的接口</h3>
<p><code>mShareAPI.isSupport(this, SHARE_MEDIA.WEIXIN)</code></p>
<h3>获取当前使用sdk的版本号</h3>
<p><code>mShareAPI.getversion(this, SHARE_MEDIA.WEIXIN)</code></p>
<h3>qq微信授权防杀死</h3>
<p>对于的低端手机可能会有如下问题，从开发者app调到qq或者微信的授权界面，后台把开发者app杀死了，这样，授权成功没有回调了，可以用如下方式避免：（一般不需要添加，如有特殊需要，可以添加）</p>
<h4>对于qq：</h4>
<p>在onActivityResult中加入如下一段话：</p>
<pre class="hljs kotlin"><code class="kotlin">      <span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> void onActivityResult(int requestCode, int resultCode, Intent <span class="hljs-keyword">data</span>) {
    <span class="hljs-keyword">super</span>.onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
    UMShareAPI.<span class="hljs-keyword">get</span>(<span class="hljs-keyword">this</span>).HandleQQError(AuthActivity.<span class="hljs-keyword">this</span>,requestCode,umAuthListener);
    mShareAPI.onActivityResult(requestCode, resultCode, <span class="hljs-keyword">data</span>);
}</code></pre>
<h4>对于微信：</h4>
<p>在WXEntryActivity文件中加入下面代码：</p>
<pre class="hljs aspectj"><code class="aspectj"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">handleIntent</span><span class="hljs-params">(Intent intent)</span></span>{

    mWxHandler.setAuthListener(<span class="hljs-keyword">new</span> UMAuthListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onComplete</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Map&lt;String, String&gt; data)</span> </span>{
            Log.e(<span class="hljs-string">"UMWXHandler fsdfsdfs"</span>);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action, Throwable t)</span> </span>{

        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(SHARE_MEDIA platform, <span class="hljs-keyword">int</span> action)</span> </span>{

        }
    });
    <span class="hljs-keyword">super</span>.handleIntent(intent);
}</code></pre>
<h3>关闭log和toast方法：</h3>
<p><code>Log.LOG ＝ false</code></p>
<p><code>Config.IsToastTip = false</code></p>
<h3>file转byte</h3>
<pre class="hljs css"><code class="css"><span class="hljs-selector-tag">SocializeUtils</span><span class="hljs-selector-class">.File2byte</span>()</code></pre>
<h3>bitmap转byte</h3>
<pre class="hljs css"><code class="css"><span class="hljs-selector-tag">BitmapUtils</span><span class="hljs-selector-class">.bitmap2Bytes</span>(<span class="hljs-selector-tag">bitmap</span>)</code></pre>
<h3>图片压缩到指定大小</h3>
<pre class="hljs axapta"><code class="axapta">BitmapUtils.compressBitmap(<span class="hljs-keyword">byte</span>[],<span class="hljs-keyword">count</span>)</code></pre>
<p>第一个参数是图片的字节流，Count为图片最大的字节数</p>
<h2>开发者调试工具</h2>
<p>在demo中有一个自检工具，可以帮助开发者迅速定位主流平台的常见错误（集成工具为调试期间的工具，开发者上线自行去掉调用即可）</p>
<h3>签名问题</h3>
<p>在程序中加入UmengTool.getSignature(activity);的调用，打出apk签名包。会显示当前签名包的签名，这是这个签名与申请时的签名作对比看是否一样</p>
<h3>检查回调地址</h3>
<p>对于新浪微博，有一个回调地址，调用UmengTool.getREDICRECT_URL(activity);可以打印出当前设置的回调地址，与申请时的作对比，看是否一样</p>
<h3>检查回调Activity</h3>
<p>对于微信新浪支付宝平台，都需要一个回调的activity，调用对应的方法（ UmengTool.checkSina(activity)）可以检查平台配置是否正确</p>
<h1>附录</h1>
<h2>混淆文件</h2>
<p>为了保证引用友盟Social SDK jar文件以及腾讯jar文件不被混淆，请在proguard.cfg文件中添加以下代码避免被混淆.</p>
<pre class="hljs haml"><code class="haml">-<span class="ruby">dontshrink
</span>-<span class="ruby">dontoptimize
</span>-<span class="ruby">dontwarn com.google.android.maps.**
</span>-<span class="ruby">dontwarn android.webkit.WebView
</span>-<span class="ruby">dontwarn com.umeng.**
</span>-<span class="ruby">dontwarn com.tencent.weibo.sdk.**
</span>-<span class="ruby">dontwarn com.facebook.**
</span>-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">javax</span>.**</span>
</span>-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">android</span>.<span class="hljs-title">webkit</span>.**</span>
</span>-<span class="ruby">dontwarn android.support.v4.**
</span>-<span class="ruby">keep enum com.facebook.**
</span>-<span class="ruby">keepattributes Exceptions,InnerClasses,Signature
</span>-<span class="ruby">keepattributes *Annotation*
</span>-<span class="ruby">keepattributes SourceFile,LineNumberTable
</span>
-<span class="ruby">keep public interface com.facebook.**
</span>-<span class="ruby">keep public interface com.tencent.**
</span>-<span class="ruby">keep public interface com.umeng.socialize.**
</span>-<span class="ruby">keep public interface com.umeng.socialize.sensor.**
</span>-<span class="ruby">keep public interface com.umeng.scrshot.**
</span>
-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">socialize</span>.* {*;</span>}
</span>
-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">facebook</span>.**</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">facebook</span>.** { *;</span> }
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">scrshot</span>.**</span>
</span>-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.** {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">socialize</span>.<span class="hljs-title">sensor</span>.**</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">socialize</span>.<span class="hljs-title">handler</span>.**</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">socialize</span>.<span class="hljs-title">handler</span>.*</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span>     <span class="hljs-title">UMMoreHandler</span>{*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">mm</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">modelmsg</span>.<span class="hljs-title">WXMediaMessage</span> {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">mm</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">modelmsg</span>.** <span class="hljs-title">implements</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">mm</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">modelmsg</span>.<span class="hljs-title">WXMediaMessage</span>$<span class="hljs-title">IMediaObject</span> {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">im</span>.<span class="hljs-title">yixin</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">api</span>.<span class="hljs-title">YXMessage</span> {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">im</span>.<span class="hljs-title">yixin</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">api</span>.** <span class="hljs-title">implements</span> <span class="hljs-title">im</span>.<span class="hljs-title">yixin</span>.<span class="hljs-title">sdk</span>.<span class="hljs-title">api</span>.<span class="hljs-title">YXMessage</span>$<span class="hljs-title">YXMessageData</span>{*;</span>}
</span>
-<span class="ruby">dontwarn twitter4j.**
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">twitter4j</span>.** { *;</span> }
</span>
-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.** {*;</span>}
</span>-<span class="ruby">dontwarn com.tencent.**
</span>-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">soexample</span>.<span class="hljs-title">R</span>$*{</span>
</span>public static final int *;
}
-<span class="ruby">keep public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">umeng</span>.<span class="hljs-title">soexample</span>.<span class="hljs-title">R</span>$*{</span>
</span>public static final int *;
}
-<span class="ruby">keepclassmembers enum * {
</span>public static **[] values();
public static ** valueOf(java.lang.String);
}

-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">TDialog</span>$*</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">TDialog</span>$* {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">PKDialog</span></span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">PKDialog</span> {*;</span>}
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">PKDialog</span>$*</span>
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">tencent</span>.<span class="hljs-title">open</span>.<span class="hljs-title">PKDialog</span>$* {*;</span>}
</span>
-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">sina</span>.** {*;</span>}
</span>-<span class="ruby">dontwarn com.sina.**
</span>-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span>  <span class="hljs-title">com</span>.<span class="hljs-title">alipay</span>.<span class="hljs-title">share</span>.<span class="hljs-title">sdk</span>.** {</span>
</span>      *;
}
-<span class="ruby">keepnames <span class="hljs-class"><span class="hljs-keyword">class</span> * <span class="hljs-title">implements</span> <span class="hljs-title">android</span>.<span class="hljs-title">os</span>.<span class="hljs-title">Parcelable</span> {</span>
</span>public static final ** CREATOR;
}

-<span class="ruby">keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">linkedin</span>.** { *;</span> }
</span>-<span class="ruby">keepattributes Signature</span></code></pre>
<h2>QQ平台错误码对照</h2>
<pre class="hljs lsl"><code class="lsl"><span class="hljs-number">110201</span>：未登陆
<span class="hljs-number">110405</span>：登录请求被限制
<span class="hljs-number">110404</span>：请求参数缺少appid
<span class="hljs-number">110401</span>：请求的应用不存在
<span class="hljs-number">110407</span>：应用已经下架
<span class="hljs-number">110406</span>：应用没有通过审核
<span class="hljs-number">100044</span>：未经过安全校验的包名和签名
<span class="hljs-number">110500</span>：获取用户授权信息失败
<span class="hljs-number">110501</span>：获取应用的授权信息失败
<span class="hljs-number">110502</span>：设置用户授权失败
<span class="hljs-number">110503</span>：获取token失败
<span class="hljs-number">110504</span>：系统内部错误</code></pre>
<h2>微信平台错误码对照</h2>
<pre class="hljs basic"><code class="basic"><span class="hljs-symbol">40001 </span>   invalid credential    不合法的调用凭证
<span class="hljs-symbol">40002 </span>   invalid grant_type    不合法的grant_type
<span class="hljs-symbol">40003 </span>   invalid openid    不合法的OpenID
<span class="hljs-symbol">40004 </span>   invalid media type    不合法的媒体文件类型
<span class="hljs-symbol">40007 </span>   invalid media_id    不合法的media_id
<span class="hljs-symbol">40008 </span>   invalid message type    不合法的message_type
<span class="hljs-symbol">40009 </span>   invalid image size    不合法的图片大小
<span class="hljs-symbol">40010 </span>   invalid voice size    不合法的语音大小
<span class="hljs-symbol">40011 </span>   invalid video size    不合法的视频大小
<span class="hljs-symbol">40012 </span>   invalid thumb size    不合法的缩略图大小
<span class="hljs-symbol">40013 </span>   invalid appid    不合法的AppID
<span class="hljs-symbol">40014 </span>   invalid access_token    不合法的access_token
<span class="hljs-symbol">40015 </span>   invalid menu type    不合法的菜单类型
<span class="hljs-symbol">40016 </span>   invalid button size    不合法的菜单按钮个数
<span class="hljs-symbol">40017 </span>   invalid button type    不合法的按钮类型
<span class="hljs-symbol">40018 </span>   invalid button <span class="hljs-keyword">name</span> size    不合法的按钮名称长度
<span class="hljs-symbol">40019 </span>   invalid button <span class="hljs-keyword">key</span> size    不合法的按钮<span class="hljs-keyword">KEY</span>长度
<span class="hljs-symbol">40020 </span>   invalid button url size    不合法的url长度
<span class="hljs-symbol">40023 </span>   invalid sub button size    不合法的子菜单按钮个数
<span class="hljs-symbol">40024 </span>   invalid sub button type    不合法的子菜单类型
<span class="hljs-symbol">40025 </span>   invalid sub button <span class="hljs-keyword">name</span> size    不合法的子菜单按钮名称长度
<span class="hljs-symbol">40026 </span>   invalid sub button <span class="hljs-keyword">key</span> size    不合法的子菜单按钮<span class="hljs-keyword">KEY</span>长度
<span class="hljs-symbol">40027 </span>   invalid sub button url size    不合法的子菜单按钮url长度
<span class="hljs-symbol">40029 </span>   invalid code    不合法或已过期的code
<span class="hljs-symbol">40030 </span>   invalid refresh_token    不合法的refresh_token
<span class="hljs-symbol">40036 </span>   invalid template_id size    不合法的template_id长度
<span class="hljs-symbol">40037 </span>   invalid template_id    不合法的template_id
<span class="hljs-symbol">40039 </span>   invalid url size    不合法的url长度
<span class="hljs-symbol">40048 </span>   invalid url domain    不合法的url域名
<span class="hljs-symbol">40054 </span>   invalid sub button url domain    不合法的子菜单按钮url域名
<span class="hljs-symbol">40055 </span>   invalid button url domain    不合法的菜单按钮url域名
<span class="hljs-symbol">40066 </span>   invalid url    不合法的url
<span class="hljs-symbol">41001 </span>   access_token missing    缺失access_token参数
<span class="hljs-symbol">41002 </span>   appid missing    缺失appid参数
<span class="hljs-symbol">41003 </span>   refresh_token missing    缺失refresh_token参数
<span class="hljs-symbol">41004 </span>   appsecret missing    缺失secret参数
<span class="hljs-symbol">41005 </span>   media <span class="hljs-keyword">data</span> missing    缺失二进制媒体文件
<span class="hljs-symbol">41006 </span>   media_id missing    缺失media_id参数
<span class="hljs-symbol">41007 </span>   sub_menu <span class="hljs-keyword">data</span> missing    缺失子菜单数据
<span class="hljs-symbol">41008 </span>   missing code    缺失code参数
<span class="hljs-symbol">41009 </span>   missing openid    缺失openid参数
<span class="hljs-symbol">41010 </span>   missing url    缺失url参数
<span class="hljs-symbol">42001 </span>   access_token expired    access_token超时
<span class="hljs-symbol">42002 </span>   refresh_token expired    refresh_token超时
<span class="hljs-symbol">42003 </span>   code expired    code超时
<span class="hljs-symbol">43001 </span>   require <span class="hljs-keyword">GET</span> method    需要使用<span class="hljs-keyword">GET</span>方法请求
<span class="hljs-symbol">43002 </span>   require POST method    需要使用POST方法请求
<span class="hljs-symbol">43003 </span>   require https    需要使用HTTPS
<span class="hljs-symbol">43004 </span>   require subscribe    需要订阅关系
<span class="hljs-symbol">44001 </span>   empty media <span class="hljs-keyword">data</span>    空白的二进制数据
<span class="hljs-symbol">44002 </span>   empty post <span class="hljs-keyword">data</span>    空白的POST数据
<span class="hljs-symbol">44003 </span>   empty news <span class="hljs-keyword">data</span>    空白的news数据
<span class="hljs-symbol">44004 </span>   empty content    空白的内容
<span class="hljs-symbol">44005 </span>   empty <span class="hljs-keyword">list</span> size    空白的列表
<span class="hljs-symbol">45001 </span>   media size <span class="hljs-keyword">out</span> of limit    二进制文件超过限制
<span class="hljs-symbol">45002 </span>   content size <span class="hljs-keyword">out</span> of limit    content参数超过限制
<span class="hljs-symbol">45003 </span>   title size <span class="hljs-keyword">out</span> of limit    title参数超过限制
<span class="hljs-symbol">45004 </span>   description size <span class="hljs-keyword">out</span> of limit    description参数超过限制
<span class="hljs-symbol">45005 </span>   url size <span class="hljs-keyword">out</span> of limit    url参数长度超过限制
<span class="hljs-symbol">45006 </span>   picurl size <span class="hljs-keyword">out</span> of limit    picurl参数超过限制
<span class="hljs-symbol">45007 </span>   playtime <span class="hljs-keyword">out</span> of limit    播放时间超过限制（语音为<span class="hljs-number">60</span>s最大）
<span class="hljs-symbol">45008 </span>   article size <span class="hljs-keyword">out</span> of limit    article参数超过限制
<span class="hljs-symbol">45009 </span>   api freq <span class="hljs-keyword">out</span> of limit    接口调动频率超过限制
<span class="hljs-symbol">45010 </span>   create menu limit    建立菜单被限制
<span class="hljs-symbol">45011 </span>   api limit    频率限制
<span class="hljs-symbol">45012 </span>   template size <span class="hljs-keyword">out</span> of limit    模板大小超过限制
<span class="hljs-symbol">45016 </span>   can<span class="hljs-comment">'t modify sys group    不能修改默认组</span>
<span class="hljs-symbol">45017 </span>   can<span class="hljs-comment">'t set group name too long sys group    修改组名过长</span>
<span class="hljs-symbol">45018 </span>   too many group now, no need <span class="hljs-keyword">to</span> add <span class="hljs-keyword">new</span>    组数量过多
<span class="hljs-symbol">50001 </span>   api unauthorized    接口未授权</code></pre>

        </div>
        <!--  -->

        <div class="show-foot">
          <a class="notebook" href="http://www.jianshu.com/nb/6055075">
            <i class="iconfont ic-search-notebook"></i> <span>android开发</span>
</a>          <div class="copyright" data-toggle="tooltip" data-html="true" data-original-title="转载请联系作者获得授权，并标注“简书作者”。">
            © 著作权归作者所有
          </div>
          <div class="modal-wrap" data-report-note="">
            <a id="report-modal">举报文章</a>
          </div>
        </div>
    </div>

    <!-- 文章底部作者信息 -->
      <div class="follow-detail">
        <div class="info">
          <a class="avatar" href="http://www.jianshu.com/u/cd45498185da">
            <img src="./友盟分享、第三方登录 - 简书_files/70a213aa0cfe.jpg" alt="144">
</a>          <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
          <a class="title" href="http://www.jianshu.com/u/cd45498185da">AiPuff</a>
            <i class="iconfont ic-man"></i>
        <p>写了 156514 字，被 120 人关注，获得了 311 个喜欢</p></div>
      </div>

      <div class="support-author"><p>如果觉得我的文章对您有用，请随意赞赏。您的支持将鼓励我继续创作！</p> <div class="btn btn-pay">赞赏支持</div> <!----> <!----> <!----></div>

    <div class="meta-bottom">
      <div class="like"><div class="btn like-group"><div class="btn-like"><a href="http://www.jianshu.com/sign_in"><i class="iconfont ic-like"></i>喜欢</a></div> <div class="modal-wrap"><a>6</a></div></div> <!----></div>
      <div class="share-group">
        <a class="share-circle" data-action="weixin-share" data-toggle="tooltip" data-original-title="分享到微信">
          <i class="iconfont ic-wechat"></i>
        </a>
        <a class="share-circle" data-toggle="tooltip" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/6247673/weibo/image_18f65513c484.png&#39;, &#39;推荐 AiPuff 的文章《友盟分享、第三方登录》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));" data-original-title="分享到微博">
          <i class="iconfont ic-weibo"></i>
        </a>
          <a class="share-circle" data-toggle="tooltip" href="http://cwb.assets.jianshu.io/notes/images/6247673/weibo/image_18f65513c484.png" target="_blank" data-original-title="下载长微博图片" aria-describedby="tooltip355772">
            <i class="iconfont ic-picture"></i>
          </a><div class="tooltip fade top in" role="tooltip" id="tooltip355772" style="top: 37592px; left: 913.734px; display: block;"><div class="tooltip-arrow" style="left: 50%;"></div><div class="tooltip-inner">下载长微博图片</div></div>
        <a class="share-circle more-share" tabindex="0" data-toggle="popover" data-placement="top" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="
          &lt;ul class=&quot;share-list&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 AiPuff 的文章《友盟分享、第三方登录》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-zone&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 AiPuff 的文章《友盟分享、第三方登录》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-twitter&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-facebook&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-google&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban&#39;)+&#39;&amp;title=&#39;+e(&#39;友盟分享、第三方登录&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-douban&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
        " data-original-title="" title="">更多分享</a>
      </div>
    </div>
    <div><div id="comment-list" class="comment-list"><div><form class="new-comment"><a class="avatar"><img src="./友盟分享、第三方登录 - 简书_files/avatar_default-78d4d1f68984cd6d4379508dd94b4210.png"></a> <div class="sign-container"><a href="http://www.jianshu.com/sign_in" class="btn btn-sign">登录</a> <span>后发表评论</span></div></form></div> <div id="normal-comment-list" class="normal-comment-list"><div><!----> <div><div class="top"><span>评论</span> <a class="close-btn" style="display: none;">关闭评论</a></div> <div class="no-comment"></div> <div class="text">
            智慧如你，不想<a href="http://www.jianshu.com/sign_in">发表一点想法</a>咩~
          </div></div> <!----> <div class="comments-placeholder" style="display: none;"><div class="author"><div class="avatar"></div> <div class="info"><div class="name"></div> <div class="meta"></div></div></div> <div class="text"></div> <div class="text animation-delay"></div> <div class="tool-group"><i class="iconfont ic-zan-active"></i><div class="zan"></div> <i class="iconfont ic-list-comments"></i><div class="zan"></div></div></div> </div></div> <!----> <div><!----></div></div></div>
  </div>

  <div class="side-tool"><ul><li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="回到顶部"><a class="function-button"><i class="iconfont ic-backtop"></i></a></li> <!----> <!----> <li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="分享文章"><a tabindex="0" role="button" data-toggle="popover" data-placement="left" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="&lt;ul class=&#39;share-list&#39;&gt;
                &lt;li&gt;&lt;a class=&quot;weixin-share&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-weixin&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到微信&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/6247673/weibo/image_18f65513c484.png&#39;, &#39;推荐 AiPuff 的文章《友盟分享、第三方登录》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-weibo&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到微博&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;http://cwb.assets.jianshu.io/notes/images/6247673/weibo/image_18f65513c484.png&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-picture&quot;&gt;&lt;/i&gt;&lt;span&gt;下载长微博图片&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 AiPuff 的文章《友盟分享、第三方登录》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-zone&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 AiPuff 的文章《友盟分享、第三方登录》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-twitter&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-facebook&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-google&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/d455025d5882?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban&#39;)+&#39;&amp;title=&#39;+e(&#39;友盟分享、第三方登录&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-douban&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
              &lt;/ul&gt;" data-original-title="" title="" class="function-button"><i class="iconfont ic-share"></i></a> <!----></li></ul></div>
</div>
<div class="note-bottom">
  <!---->
  <div class="recommend-note"><div class="meta"><div class="title">更多精彩内容</div> <div class="roll"></div></div> <div class="list"><div class="note"><!----> <a target="_blank" href="http://www.jianshu.com/p/7bbf50e741ce?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">输入框，按键监听</a> <p class="description">Android强制弹出，隐藏输入法.</p> <a target="_blank" href="http://www.jianshu.com/u/cd45498185da?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;http://upload.jianshu.io/users/upload_avatars/2837762/70a213aa0cfe.jpg&quot;);"></div> <span class="name">AiPuff</span></a></div><div class="note"><!----> <a target="_blank" href="http://www.jianshu.com/p/59b3947aa6d0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">10.springboot: 访问404</a> <p class="description"></p> <a target="_blank" href="http://www.jianshu.com/u/cd45498185da?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;http://upload.jianshu.io/users/upload_avatars/2837762/70a213aa0cfe.jpg&quot;);"></div> <span class="name">AiPuff</span></a></div><div class="note"><a target="_blank" href="http://www.jianshu.com/p/7837c0761436?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/6570804-4a94584ff80f4364.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="http://www.jianshu.com/p/7837c0761436?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">永远的兄弟</a> <p class="description">。  “本人参加#未完待续，就要表白# 活动，本人承诺，文章内容为原创，且未在其他平台发表过。”﻿﻿﻿ ﻿ ﻿     第一天踏入军校，本以为会过﻿得平淡无奇，却不曾料想，刚刚入校的那个下午，却成了割草拾草的劳役。﻿﻿﻿﻿     九月的艳阳依然没有褪去夏日的炎热，从未干过农活的我竟然要在这炙热的午后拿着镰刀在杂草遍地上的路面上割草。和我一起的，还有七个一起入校的少年。从未拿过镰刀的我们根本就不知道如何灵活地运用镰刀割草，以至于我们割草时只能半割半拔地一遍遍处理着，毫无头绪可言。杂草锋利的芒刺得我们的手辛辣而疼痛，但我们明白军校的生活才刚刚开始，这不过是军校生活的第一课。﻿﻿﻿﻿    ...</p> <a target="_blank" href="http://www.jianshu.com/u/6cff4653c852?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;http://cdn2.jianshu.io/assets/default_avatar/2-9636b13945b9ccf345bc98d0d81074eb.jpg&quot;);"></div> <span class="name">天下452</span></a></div><div class="note"><a target="_blank" href="http://www.jianshu.com/p/35edf9563460?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/1980684-2266bd1e30bd65fe.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="http://www.jianshu.com/p/35edf9563460?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">致咪蒙：告诉你我在大学里都学到了什么</a> <p class="description">文＆图/另维 写在前面： 五年本科，我休学两次，两次都完成了自己想做的事，然后第一时间回到学校继续学业。我从未想过以学业为代价做任何事。不为文凭，为我的大学带给我的，人的本质的转变。 我不说人必须通过大学才能成为想成为的自己，但我作为上大学的既得利益者，有必要站出来说说上大学的另一种可能性。 01. “上大学你就轻松了”——是我听过最扯淡的谎言。 我对大学最深刻的记忆，是午夜十二点，预习任务没完成，我洗把脸，涂好睡眠面膜，离开寝室去24小时图书馆。 图书馆三层楼，到处是人，彻夜，灯火通明里认真的年轻面庞安安静静的，长夜中唯一的声响是晨一点的广播“一楼咖啡厅还有15分钟关门，需要咖啡和夜宵...</p> <a target="_blank" href="http://www.jianshu.com/u/8519268c0e04?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;http://upload.jianshu.io/users/upload_avatars/1980684/95e8c0e293e4.jpg&quot;);"></div> <span class="name">另维_</span></a></div><div class="note"><a target="_blank" href="http://www.jianshu.com/p/e151c9bc792f?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/1441586-a3c7c0034d52ec80.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="http://www.jianshu.com/p/e151c9bc792f?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">且让我死去，且让我重生</a> <p class="description">小时候的我很顽皮，虽说没有广场和公园，但我走到哪儿，哪儿就是广场，就是公园，哪儿都有让我玩不尽的东西。﻿ ﻿我对一切都很好奇，天上的飞机，空中盘旋的鸟雀，落进衣领的雨，绊住脚趾的树根，潜伏在泥土中的蚯蚓，都会让我遐想，孜孜以求地探究。﻿﻿ 有时玩得太野也觉得没意思，便想着干点正经事，比如帮父母插插秧，在泥巴里前进后退，手如鸡啄米，撅着个大屁股，头几乎贴着水面，看起来是那么有趣。﻿﻿ 尤其是活不紧时，那些姑娘嫂子小伙故意打打闹闹，你荡一下我的水，我抹一下你的泥，一个个像花猫乐此不疲，更是抓住了我无限向往的眼球。﻿﻿ 在大约九岁的那天中午，我甩掉快穿底的拖鞋，挽起裤腿，啪地一声蹬进泥水里。等...</p> <a target="_blank" href="http://www.jianshu.com/u/b375ea9dda78?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;http://upload.jianshu.io/users/upload_avatars/1441586/9c112af56441.jpeg&quot;);"></div> <span class="name">别山举水</span></a></div></div></div>
</div>

    <script src="./友盟分享、第三方登录 - 简书_files/push.js.下载"></script><script src="./友盟分享、第三方登录 - 简书_files/hm.js.下载"></script><script async="" src="./友盟分享、第三方登录 - 简书_files/analytics.js.下载"></script><script type="application/json" data-name="page-data">{"user_signed_in":false,"locale":"zh-CN","os":"windows","read_mode":"day","read_font":"font2","note_show":{"is_author":false,"is_following_author":false,"is_liked_note":false,"uuid":"17d5bc52-5850-4f28-9863-d8c9625fcdd9"},"note":{"id":6247673,"slug":"d455025d5882","user_id":2837762,"notebook_id":6055075,"commentable":true,"likes_count":6,"views_count":862,"public_wordage":4219,"comments_count":0,"total_rewards_count":0,"is_author":false,"author":{"nickname":"AiPuff","total_wordage":156514,"followers_count":120,"total_likes_count":311}}}</script>
    
    <script src="./友盟分享、第三方登录 - 简书_files/babel-polyfill-879c5f4bc085ce8a6153.js.下载"></script>
    <script src="./友盟分享、第三方登录 - 简书_files/web-base-60bef14f05f21a4581be.js.下载"></script>
<script src="./友盟分享、第三方登录 - 简书_files/web-480e049f44d3eb16dea8.js.下载"></script>
    
    <script src="./友盟分享、第三方登录 - 简书_files/entry-e304fd423c162fd5a868.js.下载"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35169517-1', 'auto');
  ga('send', 'pageview');
</script>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0c0e9d9b1e7d617b3e6842e85b9fb068";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
</script>

  

<!----><!----></body></html>